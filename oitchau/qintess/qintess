{
  "meta": {
    "defd665a-96fa-4a7c-a7a7-31892ce70707": {
      "position": {
        "x": 173,
        "y": 41
      }
    },
    "bf2e1113-60e9-437c-979f-061d331f3021": {
      "position": {
        "x": 305,
        "y": 41
      }
    },
    "0682e858-c840-4b32-aa10-b2ee26387f15": {
      "position": {
        "x": 437,
        "y": 41
      }
    },
    "d268bd7c-c7d2-4090-bbb9-d7888fdbbcbf": {
      "position": {
        "x": 569,
        "y": 41
      }
    },
    "79f9cef7-9d6d-4a77-b602-3104965efe87": {
      "position": {
        "x": 701,
        "y": 41
      }
    },
    "c2afe520-624f-48d5-97d9-3aa650a846dc": {
      "position": {
        "x": 833,
        "y": 41
      }
    },
    "64c39bc9-940a-47c1-9d7f-70b35260ebe6": {
      "position": {
        "x": 965,
        "y": 41
      }
    },
    "fe4e1086-df18-4296-aaf0-e4dfdcd519ff": {
      "position": {
        "x": 1097,
        "y": 41
      }
    },
    "2e18ae20-5f6f-42be-aff2-7d113591c8f2": {
      "position": {
        "x": 1229,
        "y": 41
      }
    },
    "d445b041-ec83-4571-8d89-d18d29bb3819": {
      "position": {
        "x": 1361,
        "y": 41
      }
    },
    "7f89cf44-7cc4-4f27-b214-b9cb6a285426": {
      "position": {
        "x": 1493,
        "y": 41
      }
    },
    "ac438c80-95b4-4520-b1fd-d4c51d6f2251": {
      "position": {
        "x": 1625,
        "y": 41
      }
    },
    "0c3942d9-5114-4bc6-a60e-51637aa7ee84": {
      "position": {
        "x": 1757,
        "y": 41
      }
    },
    "19fdaf3c-5057-42a2-9172-14aecc709735": {
      "position": {
        "x": 1889,
        "y": 41
      }
    },
    "70c9c3db-6e95-40b0-8788-c5bd53b6e63a": {
      "position": {
        "x": 2021,
        "y": 41
      }
    }
  },
  "flowSpec": {
    "disconnected-root:8532d90b-463f-4372-84de-109194439e0c": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Start flow",
        "params": {
          "logLevel": "INFO",
          "message": "Start flow: {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "defd665a-96fa-4a7c-a7a7-31892ce70707"
      },
      {
        "asString": true,
        "xmlFieldPath": "body",
        "removeXMLAttributes": false,
        "withNamespace": false,
        "stepName": "Xml to json transformer",
        "type": "xml-to-json-transformer",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "preserveOriginal": false,
        "id": "bf2e1113-60e9-437c-979f-061d331f3021"
      },
      {
        "type": "json-to-json-string-transformer",
        "stepName": "JSON to JSON String Transformer",
        "jsonFieldPath": "body",
        "preserveOriginal": false,
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "0682e858-c840-4b32-aa10-b2ee26387f15"
      },
      {
        "type": "connector",
        "name": "json-transformer-connector",
        "stepName": "REPLACE ? with empty string",
        "params": {
          "actions": "[{\"type\":\"edit\",\"props\":[{\"root\":true,\"keyValueStringEdit\":\"{\\\"body\\\":\\\"{{ REPLACE(message.body, \\\\\\\"\\\\\\\\\\\\\\\\?\\\\\\\", \\\\\\\"\\\\\\\") }}\\\"}\"}]}]",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "d268bd7c-c7d2-4090-bbb9-d7888fdbbcbf"
      },
      {
        "type": "json-string-to-json-transformer",
        "stepName": "JSON String to JSON Transformer",
        "jsonFieldPath": "body",
        "preserveOriginal": false,
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "79f9cef7-9d6d-4a77-b602-3104965efe87"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT necessary fields",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "method": "",
              "contentType": "",
              "absoluteURI": "",
              "form": ""
            },
            "headers": {
              "Host": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "body": {
                "Envelope": {
                  "Body": {
                    "*": {
                      "method": [
                        "body.&1.&",
                        "&"
                      ],
                      "clientId": [
                        "body.&1.&",
                        "body.&",
                        "&"
                      ],
                      "*": "body.&1.&",
                      "$": "route"
                    }
                  }
                }
              },
              "*": "&"
            }
          },
          {
            "operation": "cardinality",
            "spec": {
              "body": {
                "CreateUpdateEmployeeRequest": {
                  "employees": "MANY"
                },
                "DeactivateEmployeesRequest|ActivateEmployeesRequest": {
                  "Employee": "MANY"
                },
                "AddEmployeeDepartmentRequest": {
                  "employees": "MANY"
                },
                "CreateUpdateDepartmentRequest": {
                  "departments": "MANY"
                },
                "DeactivateDepartmentsRequest": {
                  "Department": "MANY"
                },
                "CreateUpdatePositionRequest": {
                  "positions": "MANY"
                },
                "CreateUpdateSubsidiaryRequest": {
                  "subsidiaries": "MANY"
                },
                "AddEmployeeSubsidiaryRequest": {
                  "employees": "MANY"
                },
                "AssignEmployeesScheduleRequest": {
                  "employees": "MANY"
                },
                "CreateHolidayGroupRequest": {
                  "holidaysGroups": "MANY"
                },
                "DeactivateHolidaysGroupRequest": {
                  "holidays": "MANY"
                },
                "ActivateHolidaysGroupRequest": {
                  "holidays": "MANY"
                },
                "AssignEmployeesHolidaysGroupRequest": {
                  "employees": "MANY"
                },
                "UnassignEmployeesHolidaysGroupRequest": {
                  "employees": "MANY"
                },
                "CreateHolidayRequest": {
                  "holidays": "MANY"
                },
                "DeleteHolidayRequest": {
                  "holidays": "MANY"
                }
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "c2afe520-624f-48d5-97d9-3aa650a846dc"
      },
      {
        "type": "transformer",
        "stepName": "REMOVE empty fields",
        "transformSpec": [
          {
            "operation": "cardinality",
            "spec": {
              "body": {
                "DeactivateEmployeesRequest": {
                  "Employee": {
                    "*": {
                      "externalIds": "MANY"
                    }
                  }
                }
              }
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "&",
              "body": {
                "GetDepartmentRequest|GetEmployeeRequest|GetScheduleRequest|GetHolidayGroupRequest|GetHolidaysEmployeeRequest": {
                  "clientId": "body.clientId",
                  "method": "body.method",
                  "per_page": "body.per_page",
                  "page": "body.page",
                  "employeeUuids": "body.employeeUuid",
                  "from": "body.&",
                  "to": "body.&",
                  "*": {
                    "*": {
                      "": {
                        "$": "remover.&2"
                      },
                      "*": {
                        "@1": "body.&4.&3.&2"
                      }
                    }
                  }
                },
                "DeactivateEmployeesRequest|ActivateEmployeesRequest": {
                  "clientId": "body.clientId",
                  "method": "body.method",
                  "*": {
                    "*": {
                      "*": {
                        "*": {
                          "": {
                            "$": "remover.&2"
                          },
                          "*": {
                            "@1": "body.&6.&5[#4].&3"
                          }
                        }
                      }
                    }
                  }
                },
                "*": {
                  "clientId": "body.clientId",
                  "method": "body.method",
                  "subsidiaryUuid": "body.&1.&",
                  "departmentUuid": "body.&1.&",
                  "createdBy": "body.&1.&",
                  "scheduleUuid": "body.&1.&",
                  "companyUuid": "body.&1.&",
                  "endDate": "body.&1.&",
                  "startDate": "body.&1.&",
                  "holidaysGroupUuid": "body.&1.&",
                  "*": {
                    "*": {
                      "*": {
                        "": {
                          "$": "remover.&2"
                        },
                        "*": {
                          "@1": "body.&5.&4[#4].&2"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          {
            "operation": "remove",
            "spec": {
              "remover": ""
            }
          },
          {
            "operation": "modify-overwrite-beta",
            "spec": {
              "body": {
                "*": {
                  "clientId": "=(@(3,clientId))",
                  "method": "=(@(3,method))"
                }
              }
            }
          },
          {
            "operation": "cardinality",
            "spec": {
              "body": {
                "DeactivateEmployeesRequest": {
                  "Employee": {
                    "*": {
                      "externalIds": "MANY"
                    }
                  }
                }
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "64c39bc9-940a-47c1-9d7f-70b35260ebe6"
      },
      {
        "params": {
          "onProcess": "fe4e1086-df18-4296-aaf0-e4dfdcd519ff-onProcessTrack",
          "onException": "fe4e1086-df18-4296-aaf0-e4dfdcd519ff-onExceptionTrack"
        },
        "name": "block-execution-connector",
        "stepName": "Payload validator",
        "type": "connector",
        "description": "Bloco de execução responsável por validar o payload inicial do pipeline",
        "id": "fe4e1086-df18-4296-aaf0-e4dfdcd519ff"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT data",
        "fields": [
          "body",
          "method",
          "path",
          "queryAndPath",
          "route"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "2e18ae20-5f6f-42be-aff2-7d113591c8f2"
      },
      {
        "params": {
          "onProcess": "d445b041-ec83-4571-8d89-d18d29bb3819-onProcessTrack",
          "onException": "d445b041-ec83-4571-8d89-d18d29bb3819-onExceptionTrack"
        },
        "name": "block-execution-connector",
        "stepName": "Main Execution",
        "type": "connector",
        "description": "Document here what this block is supposed to do.",
        "id": "d445b041-ec83-4571-8d89-d18d29bb3819"
      },
      {
        "operation": "GET",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "GET route",
        "fields": [
          "route"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "7f89cf44-7cc4-4f27-b214-b9cb6a285426"
      },
      {
        "type": "connector",
        "name": "json-transformer-connector",
        "stepName": "FORMAT response method",
        "params": {
          "actions": "[{\"type\":\"edit\",\"props\":[{\"root\":true,\"keyValueStringEdit\":\"{\\\"route\\\":\\\"{{ REPLACE(item.route, \\\\\\\"Request\\\\\\\", \\\\\\\"Response\\\\\\\") }}\\\"}\"}]}]",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "ac438c80-95b4-4520-b1fd-d4c51d6f2251"
      },
      {
        "type": "transformer",
        "stepName": "FORMAT response",
        "transformSpec": [
          {
            "operation": "modify-overwrite-beta",
            "spec": {
              "route": "=concat('web:',@(1,route))"
            }
          },
          {
            "operation": "shift",
            "spec": {
              "body": {
                "*": "body.@(2,route)"
              },
              "*": {
                "body": "body.@(2,route)"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "0c3942d9-5114-4bc6-a60e-51637aa7ee84"
      },
      {
        "rootElementName": "soapenv:Body",
        "header": "<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:web=\"http://www.oitchau.com/webservices/\">\n<soapenv:Header/>",
        "jsonFieldPath": "body",
        "stepName": "JSON to SOAP",
        "type": "json-to-xml-transformer",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "preserveOriginal": false,
        "id": "19fdaf3c-5057-42a2-9172-14aecc709735"
      },
      {
        "type": "transformer",
        "stepName": "SET response message",
        "transformSpec": [
          {
            "operation": "default",
            "spec": {
              "Content-Type": "text/xml"
            }
          },
          {
            "operation": "modify-overwrite-beta",
            "spec": {
              "body": "=concat(@(1,body),'</soapenv:Envelope>')"
            }
          }
        ],
        "id": "70c9c3db-6e95-40b0-8788-c5bd53b6e63a"
      }
    ],
    "fe4e1086-df18-4296-aaf0-e4dfdcd519ff-onProcessTrack": [
      {
        "type": "choice",
        "stepName": "Choice",
        "when": [
          {
            "target": "companies validator",
            "jsonPath": "$.[?(@.path contains '/companies/')]"
          },
          {
            "target": "subsidiaries validator",
            "jsonPath": "$.[?(@.path contains 'subsidiaries' && (@.body.method == 'PATCH' || @.body.method == 'POST'))]"
          },
          {
            "target": "departments validator",
            "jsonPath": "$.[?(@.path contains 'departments' && @.body.method == 'GET')]"
          },
          {
            "target": "holidays-groups validator",
            "jsonPath": "$.[?(@.route == 'CreateHolidayRequest')]"
          },
          {
            "target": "holidays employees validator",
            "jsonPath": "$.[?(@.route == 'GetHolidaysEmployeeRequest' && @.method == 'GET')]"
          }
        ],
        "otherwise": "sem regras de validacao",
        "id": "90847b3a-6283-420d-8b29-018524e1ebd4"
      }
    ],
    "companies validator": [
      {
        "type": "validator",
        "stepName": "companies Validator",
        "validationSpec": {
          "$schema": "http://json-schema.org/draft-04/schema#",
          "type": "object",
          "properties": {
            "body": {
              "type": "object",
              "properties": {
                "AssignEmployeesScheduleRequest": {
                  "type": "object",
                  "properties": {
                    "scheduleUuid": {
                      "type": "string"
                    },
                    "companyUuid": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "scheduleUuid",
                    "companyUuid"
                  ]
                }
              },
              "required": [
                "AssignEmployeesScheduleRequest"
              ]
            }
          },
          "required": [
            "body"
          ]
        },
        "id": "efe5eff7-e961-406c-972f-688d64d16e38"
      }
    ],
    "subsidiaries validator": [
      {
        "type": "validator",
        "stepName": "subsidiary Validator",
        "validationSpec": {
          "$schema": "http://json-schema.org/draft-04/schema#",
          "type": "object",
          "properties": {
            "body": {
              "type": "object",
              "properties": {
                "subsidiaryUuid": {
                  "type": "string"
                }
              },
              "required": [
                "subsidiaryUuid"
              ]
            }
          },
          "required": [
            "body"
          ]
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "3796e36d-ef2f-4f4b-bf89-aeaf4efed6a4"
      }
    ],
    "departments validator": [
      {
        "type": "validator",
        "stepName": "departments Validator",
        "validationSpec": {
          "$schema": "http://json-schema.org/draft-04/schema#",
          "type": "object",
          "properties": {
            "body": {
              "type": "object",
              "properties": {
                "departments": {
                  "type": "array",
                  "items": [
                    {
                      "type": "object",
                      "properties": {
                        "departmentUuid": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "departmentUuid"
                      ]
                    }
                  ]
                }
              },
              "required": [
                "departments"
              ]
            }
          },
          "required": [
            "body"
          ]
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "696125a7-cafa-49ec-9592-c5061466ecfb"
      }
    ],
    "holidays-groups validator": [
      {
        "type": "validator",
        "stepName": "holiday-groups Validator",
        "validationSpec": {
          "$schema": "http://json-schema.org/draft-04/schema#",
          "type": "object",
          "properties": {
            "body": {
              "type": "object",
              "properties": {
                "CreateHolidayRequest": {
                  "type": "object",
                  "properties": {
                    "holidaysGroupUuid": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "holidaysGroupUuid"
                  ]
                }
              },
              "required": [
                "CreateHolidayRequest"
              ]
            }
          },
          "required": [
            "body"
          ]
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "281302b8-be99-4289-aa60-628ff1baf907"
      }
    ],
    "holidays employees validator": [
      {
        "type": "validator",
        "stepName": "holidays employees Validator",
        "validationSpec": {
          "$schema": "http://json-schema.org/draft-04/schema#",
          "type": "object",
          "properties": {
            "body": {
              "type": "object",
              "properties": {
                "employeeUuid": {
                  "type": "string"
                }
              },
              "required": [
                "employeeUuid"
              ]
            }
          },
          "required": [
            "body"
          ]
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "a4aa38a8-1870-492f-ad9a-2841b94fc5b1"
      }
    ],
    "sem regras de validacao": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Requisição sem QueryAndPath a ser validado.",
        "params": {
          "logLevel": "INFO",
          "message": "Requisição sem QueryAndPath a ser validado. card: 67588"
        },
        "id": "bca03dcf-1222-4fc7-93d1-4a5310446cd5"
      }
    ],
    "fe4e1086-df18-4296-aaf0-e4dfdcd519ff-onExceptionTrack": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Log exception",
        "params": {
          "logLevel": "ERROR",
          "message": "Log exception : {{ message.validator }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "bade2b58-ac3a-4d01-b3e4-a0e5847a9b92"
      },
      {
        "type": "choice",
        "stepName": "Choice",
        "when": [
          {
            "target": "# error jsonSchema #XTJWir#",
            "jsonPath": "$.[?(@.error contains '#Validation:')]"
          }
        ],
        "otherwise": "# other error #Jcf3QO#",
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "6c2d1549-e36e-4a48-ac60-2b476326fe1a"
      }
    ],
    "# error jsonSchema #XTJWir#": [
      {
        "type": "choice",
        "stepName": "Choice",
        "when": [
          {
            "target": "# multiplos schemas #VFlp6v#",
            "jsonPath": "$.[?(@.error contains 'anyOf')]"
          }
        ],
        "otherwise": "# erro JsonSchema #9RSsNK#",
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "e6d6b59a-1082-4c6b-83cf-9afe7cbd4ded"
      }
    ],
    "# multiplos schemas #VFlp6v#": [
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "Trata Error jsonSchema",
        "params": {
          "json": "{\n    \"schemas\" : {{ TOJSON(LASTELEMENT(SPLIT( message.error, \"reports:\" )))  }},\n    \"filterSchema\" : \"0\"\n}",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "e2c2017f-3756-472b-acc3-e264cdb3f6ba"
      },
      {
        "type": "transformer",
        "stepName": "Ajuste Campos",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "schemas": {
                "*": "schemas[].&"
              },
              "*": "&"
            }
          },
          {
            "operation": "shift",
            "spec": {
              "schemas": {
                "*": {
                  "$": "schemas[#2].id",
                  "*": "schemas[#2].&"
                }
              },
              "*": "&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "77e80480-fbd5-401f-abf9-564936dffdc0"
      },
      {
        "type": "json-path-transformer",
        "stepName": "Filter Schema",
        "jsonPath": "$.schemas[?(@.id == $.filterSchema )]",
        "failOnError": false,
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "d8998921-5c90-403d-ab69-9ccbf854ce07"
      },
      {
        "type": "transformer",
        "stepName": "Ajuste Error",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "*": {
                "id": ""
              }
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": {
                "*": {
                  "*": "errors[]"
                }
              }
            }
          },
          {
            "operation": "modify-overwrite-beta",
            "spec": {
              "errors": {
                "*": {
                  "fieldSplit": "=split('/',@(1,instance.pointer))",
                  "field": "=lastElement(@(1,fieldSplit))"
                }
              }
            }
          },
          {
            "operation": "shift",
            "spec": {
              "errors": {
                "*": {
                  "field": "errors[#2].&",
                  "message": "errors[#2].&"
                }
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "b7fceef0-6e9f-49e2-8001-c1478a24be2b"
      },
      {
        "type": "connector",
        "name": "throw-error-connector",
        "stepName": "resposta personalizada",
        "params": {
          "customErrorEnabled": true,
          "customError": "{\n    \"code\" : 400,\n    \"error\": \"Error 400\",\n    \"exception\" : {\n        \"key-execution\" : {{ metadata.execution.key }},\n        \"details\" : {{ message.errors }}\n    }\n}",
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "04da2e4e-3402-4baa-989f-ee9d4d1f716c"
      }
    ],
    "# erro JsonSchema #9RSsNK#": [
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "json generator validator",
        "params": {
          "json": "{\n    \"validator\" : {{ TOJSON(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(CONCAT(\"{\\\\\",SUBSTRING( message.error, INDEXOF(message.error,\"level:\"))),\"\\n \",\",\\\\\\\"\"),\": \",\"\\\\\\\":\"),\"\\n\",\"}\"),\"\\\\\\\\\",\"\\\\\\\"\"),\"   \",\"\"),\"is too short \\\\(length\\\\\\\":0\\\\,\", \"is too short \\\\(length:0)\"), \"\\\\\\\"\\\\\\\"\\\\\\\"\\\\\\\"\", \"\"), \"required minimum\\\\\\\"\", \"required minimum\"),\"\\\\(\\\\[\\\\\\\"\\\\\\\"\",\"\"),\"\\\\\\\"\\\\\\\"\\\\]\\\\)\",\"\")) }}\n}",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "0eb57fcf-6ae3-4515-8910-9a51d5023cf6"
      },
      {
        "type": "connector",
        "name": "throw-error-connector",
        "stepName": "resposta personalizada",
        "params": {
          "customErrorEnabled": true,
          "customError": "{\n    \"code\" : 400,\n    \"error\": \"Error 400\",\n    \"exception\" : {\n        \"key-execution\" : {{ metadata.execution.key }},\n        \"details\" : {\n            {{ IF(AND(ISNULL(message.validator.missing),ISNULL(message.validator.unwanted)),\"field\", IF(EQUALTO(SIZE(message.validator.instance.pointer),0),\"fields\",\"fields\")) }} : {{ IF(AND(ISNULL(message.validator.missing),ISNULL(message.validator.unwanted)),LASTELEMENT(SPLIT(message.validator.instance.pointer, \"/\")), IF(AND(EQUALTO(SIZE(message.validator.instance.pointer),0),EQUALTO(message.validator.keyword,\"additionalProperties\")),message.validator.unwanted,message.validator.missing)) }},\n            \"error\" : {{ IF(EQUALTO(message.validator.keyword, \"pattern\"), CONCAT(\"O valor informado [\", message.validator.string,\"], não passou na regra do RegEx:(\", message.validator.regex,\"), revise os dados enviados.\"), IF(EQUALTO(message.validator.keyword, \"type\"), CONCAT(\"Era esperado um valor do tipo \",message.validator.expected,\", porém recebemos um valor do tipo [\",message.validator.found,\"], revise os dados enviados.\"), IF(EQUALTO(message.validator.keyword, \"minLength\"), CONCAT(\"Este campo perminite no minimo \", message.validator.minLength, \" caracteres, porém recebemos [\",message.validator.value,\"] com \",message.validator.found,\" caracteres, revise os dados enviados.\"), IF(EQUALTO(message.validator.keyword, \"maxLength\"), CONCAT(\"Este campo perminite no máximo \", message.validator.maxLength, \" caracteres, porém recebemos [\",message.validator.value,\"] com \",message.validator.found,\" caracteres, revise os dados enviados.\"), IF(EQUALTO(message.validator.keyword, \"required\"), CONCAT(\"Este(s) campo(s) (é/são) obrigatório(s) no payload, revise os dados enviados.\"), IF(EQUALTO(message.validator.keyword, \"enum\"), CONCAT(\"O valor [\",message.validator.value,\"] não esta de acordo com os valores pré-definidos \",message.validator.enum,\", revise os dados enviados.\"), IF(EQUALTO(message.validator.keyword, \"minimum\"), CONCAT(\"Este campo perminite valor minimo de \", message.validator.minimum, \", porém recebemos o valor [\",message.validator.found,\"], revise os dados enviados.\"), IF(EQUALTO(message.validator.keyword, \"maximum\"), CONCAT(\"Este campo perminite valor máximo de \", message.validator.maximum, \", porém recebemos o valor [\",message.validator.found,\"], revise os dados enviados.\"), IF(EQUALTO(message.validator.keyword, \"additionalProperties\"), CONCAT(\"Estes campos não são permitidos no seu payload, revise os dados enviados.\"), IF(EQUALTO(message.validator.keyword, \"format\"), CONCAT(\"O valor informado [\",message.validator.value,\"], não passou nas regras de Format:(\",message.validator.attribute,\"), revise os dados enviados.\"), IF(EQUALTO(message.validator.keyword, \"multipleOf\"), CONCAT(\"O valor informado [\",message.validator.value,\"], não pode ser múltiplo de [\",message.validator.divisor,\"], revise os dados enviados.\"), IF(EQUALTO(message.validator.keyword, \"minItems\"), CONCAT(\"Este campo é um array e precisa conter pelo menos [\",message.validator.minItems,\"] item(ns) dentro do array, porém recebemos apenas [\",message.validator.found,\"] item(ns), revise os dados enviados.\"), IF(EQUALTO(message.validator.keyword, \"maxItems\"), CONCAT(\"Este campo é um array e precisa conter no máximo [\",message.validator.maxItems,\"] item(ns) dentro do array, porém recebemos [\",message.validator.found,\"] item(ns), revise os dados enviados.\"), IF(EQUALTO(message.validator.keyword, \"uniqueItems\"), CONCAT(\"Os itens informados dentro deste array não podem se repetir, revise os dados enviados.\"), IF(EQUALTO(message.validator.keyword, \"additionalItems\"), CONCAT(\"Era esperado [\",message.validator.allowed,\"] campo(os) dentro de cada item(ns) no array, porém recebemos [\",message.validator.found,\"] campo(os), revise os dados enviados.\"), IF(EQUALTO(message.validator.keyword, \"not\"), CONCAT(\"Este campo não passou na validação not-type, revise os dados enviados.\"), IF(EQUALTO(message.validator.keyword, \"anyOf\"), CONCAT(\"Houve um erro em uns do JsonSchemas dentro da propriedade anyOf [ \", message.validator.reports, \" ], revise o payload enviado de acordo com erro apotado em dos schemas do anyOf.\"), \"A definir\"))))))))))))))))) }}\n        }\n    }\n}",
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "446fb071-b0cc-4003-911b-4061db3218d6"
      }
    ],
    "# other error #Jcf3QO#": [
      {
        "type": "connector",
        "name": "throw-error-connector",
        "stepName": "resposta personalizada",
        "params": {
          "customErrorEnabled": true,
          "customError": "{\n    \"code\" : 500,\n    \"error\": \"Error 500\",\n    \"exception\" : {\n        \"key-execution\" : {{ metadata.execution.key }},\n        \"details\" : {{ CONCAT(message.$,\"\") }}\n    }\n}",
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "ecf71968-8ac0-4e3c-878b-611b9e8f377b"
      }
    ],
    "d445b041-ec83-4571-8d89-d18d29bb3819-onProcessTrack": [
      {
        "params": {
          "onProcess": "314769a8-9514-4064-8847-c30fe22bd2aa-onProcessTrack",
          "onException": "314769a8-9514-4064-8847-c30fe22bd2aa-onExceptionTrack"
        },
        "name": "block-execution-connector",
        "stepName": "GET token process",
        "type": "connector",
        "description": "Document here what this block is supposed to do.",
        "id": "314769a8-9514-4064-8847-c30fe22bd2aa"
      },
      {
        "operation": "GET",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "GET data",
        "fields": [
          "body",
          "method",
          "path",
          "Authorization",
          "queryAndPath"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "14e434f8-0686-48db-b57f-c9b4f81bc731"
      },
      {
        "type": "connector",
        "name": "json-transformer-connector",
        "stepName": "EXTRACT path",
        "params": {
          "actions": "[{\"type\":\"edit\",\"props\":[{\"root\":true,\"keyValueStringEdit\":\"{\\\"path\\\":\\\"{{ REPLACE(item.path, \\\\\\\"/pipeline/oitchau/v1/qintess/\\\\\\\", \\\\\\\"\\\\\\\") }}\\\"}\"}]}]",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "1b6e41b4-ef97-4225-b1da-b4a9425a6d48"
      },
      {
        "type": "choice",
        "stepName": "Which route?",
        "when": [
          {
            "target": "employees",
            "jsonPath": "$.[?(@.path ==  'employees')]"
          },
          {
            "target": "position",
            "jsonPath": "$.[?(@.path == 'position')]"
          },
          {
            "target": "payroll",
            "jsonPath": "$.[?(@.path ==  'payroll')]"
          },
          {
            "target": "subsidiaries",
            "jsonPath": "$.[?(@.path == 'subsidiaries' )]"
          },
          {
            "target": "companies",
            "jsonPath": "$.[?(@.path == 'companies')]"
          },
          {
            "target": "holidays",
            "jsonPath": "$.[?(@.path == 'holidays')]"
          },
          {
            "target": "departments",
            "jsonPath": "$.[?(@.path ==  'departments')]"
          }
        ],
        "otherwise": "not found",
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "a712ec74-bebb-4c8d-b0ed-f9995d5b06b9"
      }
    ],
    "314769a8-9514-4064-8847-c30fe22bd2aa-onProcessTrack": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "GET token process",
        "params": {
          "logLevel": "INFO",
          "message": "GET token process"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "03271c53-87c4-4925-ad23-80d6558b944b"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "CREATE relation object",
        "params": {
          "json": "{\n \"relation\":\n {\n   \"clientId\": {{ message.body.clientId }}\n }\n\n}\n",
          "failOnError": false
        },
        "id": "cd485efe-05ee-4a50-afac-0e1946ccdfdf"
      },
      {
        "type": "connector",
        "name": "relation-connector",
        "stepName": "GET clientSecret by clientId",
        "params": {
          "operation": "getByFieldAndValue",
          "relationIdOrName": "oitchau-credentials",
          "translatePath": "relation",
          "field1": "clientId",
          "field2": "",
          "failOnError": false
        },
        "id": "96a2bb2d-c583-48ac-b1ae-6116fdd218d6"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "CREATE login request",
        "params": {
          "json": "{\r\n  \"body\": {\r\n    \"client_id\":  {{ message.relation[0].clientId }},\r\n    \"response_type\": \"token\",\r\n    \"client_secret\": {{ message.relation[0].clientSecret }},\r\n    \"grant_type\": \"client_credentials\"\r\n  }\r\n}",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "1ba96df3-7ae1-40ac-a94a-6d45a88af789"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\"}",
          "operation": "POST",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 30000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "",
          "url": "{{url-api-oitchau-qintess}}/token",
          "connectTimeout": 30000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "POST accessToken",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "030aa969-f882-4417-811f-be0b08948d62"
      },
      {
        "type": "choice",
        "stepName": "Choice",
        "when": [
          {
            "target": "GET token success",
            "jsonPath": "$.[?(@.status == 200 && @.body.accessToken != \"\" )]"
          }
        ],
        "otherwise": "GET token error",
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "e75f4dc8-9058-4a67-9a26-b2c119b50452"
      }
    ],
    "GET token success": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Success POST accessToken",
        "params": {
          "logLevel": "INFO",
          "message": "Success POST accessToken"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "d09b2156-f84d-468b-bde6-5564a8fd3455"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "Create insert structure Authorization",
        "params": {
          "json": "{\n     \"headers\":{\n   \n      \"Authorization\": {{ CONCAT( \"Bearer \", message.body.accessToken) }}\n   }\n   \n}\n\n      ",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "04095348-bf57-4795-8e20-9f85dee2404a"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT accessToken",
        "fields": [
          "headers"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "4253268b-9e49-4128-b175-7dd3d53ec18d"
      }
    ],
    "GET token error": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Error POST accessToken",
        "params": {
          "logLevel": "ERROR",
          "message": "Something went wrong on GET token process: {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "5ab53b60-4eac-4818-b062-3414ebce0169"
      },
      {
        "type": "transformer",
        "stepName": "REMOVE headers",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "788a593c-2628-49bc-8613-44db32c60736"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "GET errorMessage",
        "params": {
          "json": "{\n\n\"message\": {{ message.$ }}\n\n\n\n}",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "687ec067-eccb-4c24-8087-dc849ed10c86"
      },
      {
        "type": "connector",
        "name": "throw-error-connector",
        "stepName": "Throw Error",
        "params": {
          "customErrorEnabled": true,
          "customError": "{{ message.$ }}",
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "3a7166fe-f72f-4f3d-8144-87536e327c7f"
      }
    ],
    "314769a8-9514-4064-8847-c30fe22bd2aa-onExceptionTrack": [
      {
        "type": "session-management",
        "stepName": "GET route",
        "operation": "GET",
        "sessionType": "LOCAL",
        "scoped": false,
        "fields": [
          "route"
        ],
        "id": "480bbee8-198e-4d18-bb41-9679c9a46596"
      },
      {
        "type": "connector",
        "name": "json-transformer-connector",
        "stepName": "FORMAT response method",
        "params": {
          "actions": "[{\"type\":\"edit\",\"props\":[{\"root\":true,\"keyValueStringEdit\":\"{\\\"route\\\":\\\"{{ REPLACE(item.route, \\\\\\\"Request\\\\\\\", \\\\\\\"Response\\\\\\\") }}\\\"}\"}]}]",
          "failOnError": false
        },
        "id": "e35e4fb7-b2bf-4af4-96bf-62150400f58d"
      },
      {
        "type": "transformer",
        "stepName": "FORMAT response",
        "transformSpec": [
          {
            "operation": "modify-overwrite-beta",
            "spec": {
              "route": "=concat('web:',@(1,route))"
            }
          },
          {
            "operation": "shift",
            "spec": {
              "message": "body.@(1,route)"
            }
          }
        ],
        "id": "4280d872-d134-4bcd-b703-8a8420777365"
      },
      {
        "type": "connector",
        "name": "throw-error-connector",
        "stepName": "Throw Error",
        "params": {
          "customErrorEnabled": true,
          "customError": "{{ message.$ }}",
          "failOnError": true
        },
        "id": "ce9e7c92-a8c8-48c2-92bc-42ae457e4130"
      }
    ],
    "employees": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Employees route",
        "params": {
          "logLevel": "INFO",
          "message": "Employees route"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "c6869525-d06e-4ad8-8232-f07be857f734"
      },
      {
        "params": {
          "onProcess": "2422f19b-e51d-40ec-a270-060e4939e9a5-onProcessTrack",
          "onException": "2422f19b-e51d-40ec-a270-060e4939e9a5-onExceptionTrack"
        },
        "name": "block-execution-connector",
        "stepName": "Employees routes",
        "type": "connector",
        "description": "Rotas de gerenciamento dos colaboradores (GET, POST, PATCH e DEACTIVATE)",
        "id": "2422f19b-e51d-40ec-a270-060e4939e9a5"
      }
    ],
    "2422f19b-e51d-40ec-a270-060e4939e9a5-onProcessTrack": [
      {
        "operation": "GET",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "GET data",
        "fields": [
          "body",
          "method",
          "path",
          "headers"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "e66dbe98-57ee-4ce6-ad47-2a1418f6f414"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT fields",
        "transformSpec": [
          {
            "operation": "cardinality",
            "spec": {
              "body": {
                "GetEmployeeRequest": {
                  "Employee": "MANY"
                }
              }
            }
          },
          {
            "operation": "shift",
            "spec": {
              "body": {
                "*": {
                  "Employee": {
                    "*": {
                      "employeeUuids": "employeeUuids",
                      "externalIds": "externalIds",
                      "matricula": "headers.&"
                    }
                  },
                  "employees": "employees"
                }
              },
              "method": "&",
              "headers": {
                "*": "headers.&"
              },
              "path": "&"
            }
          },
          {
            "operation": "cardinality",
            "spec": {
              "employees": "MANY",
              "employeeUuids": "MANY",
              "externalIds": "MANY"
            }
          },
          {
            "operation": "shift",
            "spec": {
              "employeeUuids": "body.employeeUuids",
              "externalIds": "body.externalIds",
              "employees": "body.employees",
              "headers": "&",
              "method": "&",
              "path": "&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "b2c24ba1-c839-4859-8b2a-b532cd2059c5"
      },
      {
        "type": "session-management",
        "stepName": "GET route",
        "operation": "GET",
        "sessionType": "LOCAL",
        "scoped": false,
        "fields": [
          "route"
        ],
        "id": "79dd789d-f1e3-4fe8-9723-281950745511"
      },
      {
        "type": "connector",
        "name": "json-transformer-connector",
        "stepName": "Transformação de campos",
        "params": {
          "actions": "[{\"type\":\"edit\",\"props\":[{\"path\":\"body.employees\",\"keyValueStringEdit\":\"{\\\"isSupervisor\\\":\\\"{{ TOBOOLEAN(item.isSupervisor) }}\\\"}\"}]}]",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "46f4ff3c-853c-499e-bb5b-2a0354678f2e"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "LOG - before sending the payload to Oitchau",
        "params": {
          "logLevel": "INFO",
          "message": "LOG - before sending the payload to Oitchau {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "72cfe457-a1ab-4656-9484-cdbade789dae"
      },
      {
        "type": "choice",
        "stepName": "Choice",
        "when": [
          {
            "target": "POST deactivate_employees",
            "jsonPath": "$.[?(@.route == 'DeactivateEmployeesRequest'  && @.method == 'POST')]"
          },
          {
            "target": "PATCH employees",
            "jsonPath": "$.[?(@.route == 'CreateUpdateEmployeeRequest'  &&  @.method == 'PATCH')]"
          },
          {
            "target": "GET employees",
            "jsonPath": "$.[?(@.route == 'GetEmployeeRequest'  &&  !@.headers.matricula && @.method == 'GET')]"
          },
          {
            "target": "POST employees",
            "jsonPath": "$.[?(@.route == 'CreateUpdateEmployeeRequest'  &&  @.method == 'POST')]"
          },
          {
            "target": "GET employee by matricula",
            "jsonPath": "$.[?(@.route == 'GetEmployeeRequest'  &&  @.headers.matricula && @.method == 'GET')]"
          },
          {
            "target": "POST activate_employees",
            "jsonPath": "$.[?(@.route == 'ActivateEmployeesRequest'  && @.method == 'POST')]"
          }
        ],
        "otherwise": "Employees method not allowed",
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "53b45464-77b5-4f00-8d45-5d5984aee3c4"
      }
    ],
    "POST deactivate_employees": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "POST deactivate_employees",
        "params": {
          "logLevel": "INFO",
          "message": "POST deactivate_employees"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "9ec59f95-435c-425b-9f44-bfcdae9eec32"
      },
      {
        "type": "transformer",
        "stepName": "Filter data",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "body": "&",
              "headers": {
                "Authorization": "&"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "d2afbb53-88e7-4186-a3cb-694e7a663e51"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Deactivate employees request",
        "params": {
          "logLevel": "INFO",
          "message": "Deactivate employees request {{ message.$ }}"
        },
        "id": "80c8524b-d2b3-4fb2-ac85-7a20aecc673c"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.Authorization }}\"}",
          "operation": "POST",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 120000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "",
          "url": "{{url-api-oitchau-qintess}}/deactivate_employees",
          "connectTimeout": 120000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "POST deactivate_employees",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "268d30f6-493c-4fb0-b5f0-87c1e0606b7c"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Deactivate employees RESPONSE",
        "params": {
          "logLevel": "INFO",
          "message": "Deactivate employees RESPONSE {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "2aae49b3-e58f-4a72-9390-2e875a206eed"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "employeesResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "cae47c29-543b-4fbe-9172-9f2bc7366ba0"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT employeesResponse",
        "fields": [
          "employeesResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "bdfd9b02-6eed-4479-9cb1-47f6bab38c4c"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.employeesResponse.status, 200 ) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "8f352f57-6ecc-49a1-abe3-d5e84ad473bf"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "Response API Oitchau employees ",
        "params": {
          "json": "{\n  \"body\":{\n  \"employeesResponse\":{\n               \"status\": {{  message.employeesResponse.status }},\n               \"message\": \"Success\",\n               \"reqId\": \"\"\n         }\n}\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "4a38f061-bd6d-4b0e-a8cb-6f6b5c1fc5de"
      }
    ],
    "PATCH employees": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "PATCH employees",
        "params": {
          "logLevel": "INFO",
          "message": "PATCH employees"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "f938e87a-ba06-46a7-bd3c-a539dd51033e"
      },
      {
        "type": "transformer",
        "stepName": "Filter data",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "body": "&",
              "headers": {
                "Authorization": "&"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "587ff679-9729-4bdb-95f4-f2c415440d56"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "PATCH employee request",
        "params": {
          "logLevel": "INFO",
          "message": "PATCH employee request {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "bbb58f78-fc25-488d-863c-e89e5dc5a889"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.Authorization }}\"}",
          "operation": "PATCH",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 120000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "",
          "url": "{{url-api-oitchau-qintess}}/employees",
          "connectTimeout": 120000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "PATCH Employees ",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "b37b7659-38da-4a29-bb63-38bbd0b0a121"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "PATCH employee RESPONSE",
        "params": {
          "logLevel": "INFO",
          "message": "PATCH employee RESPONSE {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "9e49c04a-5d33-4177-863d-58e23591808a"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "employeesResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "81d1383a-3d8d-4c12-bb7f-3b5740153a94"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT employeesResponse",
        "fields": [
          "employeesResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "12a277ad-b56f-4226-b630-48b4799772ed"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.employeesResponse.status, 200 ) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": "500",
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "469f5e5b-9fe4-4d5c-bdb4-981e18c71dff"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "Response API Oitchau employees ",
        "params": {
          "json": "{\n  \"body\":{\n  \"employeesResponse\":{\n               \"status\": {{  message.employeesResponse.status }},\n               \"message\": \"Success\",\n               \"reqId\": \"\"\n         }\n}\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "afe31636-9627-42ef-88c2-ba651dc8a731"
      }
    ],
    "GET employees": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "GET employees",
        "params": {
          "logLevel": "INFO",
          "message": "GET employees"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "c0e5adb1-d6ca-466d-95d0-c57f73f98ae1"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.headers.Authorization }}\"}",
          "operation": "GET",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 120000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "{}",
          "url": "{{url-api-oitchau-qintess}}/employees",
          "connectTimeout": 120000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "GET Employees",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "1d671851-1d46-43cc-826e-da4b61929a3a"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "GET employees RESPONSE",
        "params": {
          "logLevel": "INFO",
          "message": "GET employees RESPONSE {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "81afdbbb-dcd0-4499-b505-6ff46c7b3a35"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "employeesResponse.&",
              "body": {
                "content": "body.employeesResponse.ContentEmployee"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "3d11235f-ddeb-4df6-89a3-13a065353e4b"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT employeesResponse",
        "fields": [
          "employeesResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "e12aa879-ac85-4a1d-bccb-47e3de89496a"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.employeesResponse.status, 200 ) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "id": "e7d668c8-c38f-490d-aaa0-2f9e0dcef98d"
      }
    ],
    "POST employees": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "POST employees",
        "params": {
          "logLevel": "INFO",
          "message": "POST employees"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "d68cf6f3-88cb-492a-a056-34cae651c25a"
      },
      {
        "type": "transformer",
        "stepName": "Filter data",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "body": "&",
              "headers": {
                "Authorization": "&"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "dcaeb6db-9315-47b5-98c5-ba28028daf98"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "POST employee request",
        "params": {
          "logLevel": "INFO",
          "message": "POST employee request {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "188a4526-befc-4222-81e6-5a03fa4cc664"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.Authorization }}\"}",
          "operation": "POST",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 120000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "",
          "url": "{{url-api-oitchau-qintess}}/employees",
          "connectTimeout": 120000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "POST Employees",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "99811f07-fed0-43bf-a894-23b661440849"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "POST employee by matricula RESPONSE",
        "params": {
          "logLevel": "INFO",
          "message": "POST employee by matricula RESPONSE {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "9039e209-d88a-4a0a-8e9f-d9934ed47e9b"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "employeesResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "e7f7a6bf-9178-47da-ac1a-528a836de47a"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT employeesResponse",
        "fields": [
          "employeesResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "9288534b-79f3-4ab3-853c-58daec659d60"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.employeesResponse.status, 200 ) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "5aba6a86-5899-4ed7-9088-5e6d44da8fcc"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "Response API Oitchau employees ",
        "params": {
          "json": "{\n  \"body\":{\n  \"employeesResponse\":{\n               \"status\": {{  message.employeesResponse.status }},\n               \"message\": \"Success\",\n               \"reqId\": \"\"\n         }\n}\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "c77010bf-f5e7-43ae-9dd2-ea017e8350bc"
      }
    ],
    "GET employee by matricula": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "GET employee by matricula",
        "params": {
          "logLevel": "INFO",
          "message": "GET employee by matricula"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "5b74fedb-6161-4d0f-ba8b-dfea884c9eef"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.headers.Authorization }}\"}",
          "operation": "GET",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 120000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "{\"matricula\":\"{{ message.headers.matricula }}\"}",
          "url": "{{url-api-oitchau-qintess}}/employees/find",
          "connectTimeout": 120000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "GET employee by matricula",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "faa2715c-36a7-4ee5-94ea-7765e6dced88"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "GET employee by matricula request",
        "params": {
          "logLevel": "INFO",
          "message": "GET employee by matricula request {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "dd133435-069a-4a84-9576-df8e3c517a18"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "employeesResponse.&",
              "body": {
                "content": "body.employeesResponse.ContentEmployee"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "e9b03e3a-0887-496a-9337-7894231397c2"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT employeesResponse",
        "fields": [
          "employeesResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "f2f09e56-776d-4396-b468-95df49ec1463"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.employeesResponse.status, 200 ) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "097d26c5-2271-45d3-861f-8855a5b0e88b"
      }
    ],
    "POST activate_employees": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "POST activate_employees",
        "params": {
          "logLevel": "INFO",
          "message": "POST activate_employees"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "5ac23428-d7a6-441f-88ea-d9f18abcc4d6"
      },
      {
        "type": "transformer",
        "stepName": "Filter data",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "body": "&",
              "headers": {
                "Authorization": "&"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "936267a4-5213-46c8-96e6-933839e4a64b"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Activate employees request",
        "params": {
          "logLevel": "INFO",
          "message": "Activate employees request {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "d9e2a347-3594-4942-97ff-d1c77d3ae44a"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.Authorization }}\"}",
          "operation": "POST",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 120000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "",
          "url": "{{url-api-oitchau-qintess}}/activate_employees",
          "connectTimeout": 120000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "POST activate_employees",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "9809f02c-875b-4fe8-ac39-377b24fa25d9"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Activate employees RESPONSE",
        "params": {
          "logLevel": "INFO",
          "message": "Activate employees RESPONSE {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "2b161ea7-b22f-4af8-a2c1-a6b2e83238c4"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "employeesResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "41a77f3d-ba18-4c00-b205-e78f038337f3"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT employeesResponse",
        "fields": [
          "employeesResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "67ecdf6d-68ea-4aa0-b36d-0684e003f986"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.employeesResponse.status, 200 ) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "1490e914-5109-4502-8874-40819b3ba5f4"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "Response API Oitchau employees ",
        "params": {
          "json": "{\n  \"body\":{\n  \"employeesResponse\":{\n               \"status\": {{  message.employeesResponse.status }},\n               \"message\": \"Success\",\n               \"reqId\": \"\"\n         }\n}\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "00d6b212-e130-441d-a733-1473d139d179"
      }
    ],
    "Employees method not allowed": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Method not allowed",
        "params": {
          "logLevel": "ERROR",
          "message": "Method not allowed"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "94172b35-c1e1-4f96-88b9-90f36c4db602"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "SET employeesResponse",
        "params": {
          "json": "{\n  \"employeesResponse\": {\n    \"message\": \"Method not allowed\"\n  }\n}",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "0ebd9091-f0af-498b-bdee-640ac1109095"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT employeesResponse",
        "fields": [
          "employeesResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "2a9547d4-39a5-4dbd-8606-ff1d4ae95d38"
      },
      {
        "type": "connector",
        "name": "throw-error-connector",
        "stepName": "Throw Error",
        "params": {
          "customErrorEnabled": true,
          "customError": "{\n  \"employeesResponse\": {\n    \"message\": \"Method not allowed\"\n  }\n}",
          "failOnError": true
        },
        "id": "b735f5e3-4744-49a1-8fea-f1deb1c001cc"
      }
    ],
    "2422f19b-e51d-40ec-a270-060e4939e9a5-onExceptionTrack": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Employees route exception",
        "params": {
          "logLevel": "ERROR",
          "message": "Employees route exception"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "f4a7ee49-5695-43f5-a803-e6b44704ad15"
      },
      {
        "operation": "GET",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "GET route + employeesResponse",
        "fields": [
          "route",
          "employeesResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "b1a59192-e40a-47be-b50f-328f62fa309c"
      },
      {
        "type": "connector",
        "name": "json-transformer-connector",
        "stepName": "FORMAT response method",
        "params": {
          "actions": "[{\"type\":\"edit\",\"props\":[{\"root\":true,\"keyValueStringEdit\":\"{\\\"route\\\":\\\"{{ REPLACE(item.route, \\\\\\\"Request\\\\\\\", \\\\\\\"Response\\\\\\\") }}\\\"}\"}]}]",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "3961749e-0178-47df-a4d1-595ca950a897"
      },
      {
        "type": "transformer",
        "stepName": "FORMAT response",
        "transformSpec": [
          {
            "operation": "modify-overwrite-beta",
            "spec": {
              "route": "=concat('web:',@(1,route))"
            }
          },
          {
            "operation": "shift",
            "spec": {
              "employeesResponse": "body.@(1,route)"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "9d647fc6-9056-4995-9213-db8b947a63dd"
      },
      {
        "type": "connector",
        "name": "throw-error-connector",
        "stepName": "Throw Error",
        "params": {
          "customErrorEnabled": true,
          "customError": "{{ message.$ }}",
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "eb9421de-44dd-4e7f-ba3c-917fae483351"
      }
    ],
    "position": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Position route",
        "params": {
          "logLevel": "INFO",
          "message": "Position route"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "ebbcae7f-972f-4c8e-883c-7c43186e7a62"
      },
      {
        "params": {
          "onProcess": "259272ef-925f-4714-8a60-0227ef067912-onProcessTrack",
          "onException": "259272ef-925f-4714-8a60-0227ef067912-onExceptionTrack"
        },
        "name": "block-execution-connector",
        "stepName": "Position routes",
        "type": "connector",
        "description": "Rotas de gerenciamento das posições (POST, PATCH)",
        "id": "259272ef-925f-4714-8a60-0227ef067912"
      }
    ],
    "259272ef-925f-4714-8a60-0227ef067912-onProcessTrack": [
      {
        "operation": "GET",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "GET data",
        "fields": [
          "body",
          "method",
          "path",
          "headers"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "e3fd981c-d250-4d15-9e51-6b52fced9574"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT fields",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "body": {
                "*": {
                  "method": "&",
                  "positions": "positions"
                }
              },
              "headers": {
                "Authorization": "Authorization"
              },
              "path": "&"
            }
          },
          {
            "operation": "cardinality",
            "spec": {
              "positions": "MANY"
            }
          },
          {
            "operation": "shift",
            "spec": {
              "positions": "body.positions",
              "Authorization": "&",
              "method": "&",
              "path": "&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "4067e846-530c-40d9-8735-4b2122dd8ddd"
      },
      {
        "operation": "GET",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "GET route",
        "fields": [
          "route"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "1cf2cf51-8499-46d9-9bea-c8062b36d7fd"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Start flow position",
        "params": {
          "logLevel": "INFO",
          "message": "Start flow position: {{ message.$}}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "b78fd526-69f0-4b2e-af51-183836c307df"
      },
      {
        "type": "choice",
        "stepName": "Choice",
        "when": [
          {
            "target": "POST position",
            "jsonPath": "$.[?(@.route == 'CreateUpdatePositionRequest'  &&  @.method == 'POST')]"
          },
          {
            "target": "PATCH position",
            "jsonPath": "$.[?(@.route ==  'CreateUpdatePositionRequest'  && @.method == 'PATCH')]"
          }
        ],
        "otherwise": "method not allowed",
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "2cebe13e-f580-49e6-99b3-8167fc37519a"
      }
    ],
    "POST position": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "POST position",
        "params": {
          "logLevel": "INFO",
          "message": "POST position"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "8f3ae3ff-723e-45c9-bafe-5514e1c55253"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.Authorization }}\"}",
          "operation": "POST",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 9000000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "",
          "url": "{{global.url-api-oitchau-qintess}}/positions",
          "connectTimeout": 9000000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "POST Positions",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "097ac184-5e83-490a-818b-8f3c0f8a9cde"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "positionsResponse.&"
            }
          }
        ],
        "id": "79f3594c-ac43-4377-b189-71d1022771a5"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT positionsResponse",
        "fields": [
          "positionsResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "95925620-3723-48f7-95ad-9887db948ea3"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.positionsResponse.status, 204 ) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "6afe67d2-b633-456d-a7b0-b20736074aa8"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "Response API Oitchau position",
        "params": {
          "json": "{\n  \"body\":{\n  \"positionsResponse\":{\n               \"status\": {{  message.positionsResponse.status }},\n               \"message\": \"Success\",\n               \"reqId\": \"\"\n         }\n    }\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "19117554-ece7-4b29-8729-7d7f5722f7eb"
      }
    ],
    "PATCH position": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "PATCH position",
        "params": {
          "logLevel": "INFO",
          "message": "PATCH position"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "e73f3564-64e1-4a45-ae61-2744386b2821"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.Authorization }}\"}",
          "operation": "PATCH",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 9000000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "",
          "url": "{{global.url-api-oitchau-qintess}}/positions",
          "connectTimeout": 9000000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "PATCH Positions",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "ebf6051d-78cc-408a-b4b6-749d9b642447"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "positionsResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "0d8caca6-1f05-45ab-bb93-f25d61dade0b"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT positionsResponse",
        "fields": [
          "positionsResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "03b5cfac-2414-4edf-bd47-06a9d75a1d51"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.positionsResponse.status, 204 ) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "c5655d00-83db-41dd-a1de-0d592a9ae442"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "Response API Oitchau position",
        "params": {
          "json": "{\n  \"body\":{\n  \"positionsResponse\":{\n               \"status\": {{  message.positionsResponse.status }},\n               \"message\": \"Success\",\n               \"reqId\": \"\"\n         }\n    }\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "67b23813-66dd-487e-a71e-0016cc8194b9"
      }
    ],
    "method not allowed": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Method not allowed",
        "params": {
          "logLevel": "ERROR",
          "message": "Method not allowed"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "f77cc7aa-517e-4ac1-b6b4-8027c3e80a02"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "SET positionsResponse",
        "params": {
          "json": "{\n  \"positionsResponse\": {\n    \"message\": \"Method not allowed\"\n  }\n}",
          "failOnError": false
        },
        "id": "23a18c42-c372-44df-b5d2-92acd01be17d"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT positionsResponse",
        "fields": [
          "positionsResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "f6ee417d-7560-4ff8-a0aa-517ded59741c"
      },
      {
        "type": "connector",
        "name": "throw-error-connector",
        "stepName": "Throw Error",
        "params": {
          "customErrorEnabled": true,
          "customError": "{{ message.$ }}",
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "ae396f5a-12ac-4398-ab46-f285573c1af4"
      }
    ],
    "259272ef-925f-4714-8a60-0227ef067912-onExceptionTrack": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Position route exception",
        "params": {
          "logLevel": "ERROR",
          "message": "Position route exception"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "b848cddd-87f2-411e-8647-68236dfb9d08"
      },
      {
        "type": "session-management",
        "stepName": "GET route + positionsResponse",
        "operation": "GET",
        "sessionType": "LOCAL",
        "scoped": false,
        "fields": [
          "route",
          "positionsResponse"
        ],
        "id": "f5e52125-9611-457c-9c44-894c68f698bd"
      },
      {
        "type": "connector",
        "name": "json-transformer-connector",
        "stepName": "FORMAT response method",
        "params": {
          "actions": "[{\"type\":\"edit\",\"props\":[{\"root\":true,\"keyValueStringEdit\":\"{\\\"route\\\":\\\"{{ REPLACE(item.route, \\\\\\\"Request\\\\\\\", \\\\\\\"Response\\\\\\\") }}\\\"}\"}]}]",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "433cc1e2-35c9-4c44-a1d2-8ddeb55c42b0"
      },
      {
        "type": "transformer",
        "stepName": "FORMAT response",
        "transformSpec": [
          {
            "operation": "modify-overwrite-beta",
            "spec": {
              "route": "=concat('web:',@(1,route))"
            }
          },
          {
            "operation": "shift",
            "spec": {
              "positionsResponse": "body.@(1,route)"
            }
          }
        ],
        "id": "1048966e-5961-4a6c-b468-56fc82ff70da"
      },
      {
        "type": "connector",
        "name": "throw-error-connector",
        "stepName": "Throw Error",
        "params": {
          "customErrorEnabled": true,
          "customError": "{{ message.$ }}",
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "2fd12726-09b9-4993-9a66-16c1e89e4a61"
      }
    ],
    "payroll": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Departments route",
        "params": {
          "logLevel": "INFO",
          "message": "Departments route"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "3184137e-02f0-4235-a5f4-4cdc050a158a"
      },
      {
        "params": {
          "onProcess": "4f864d26-a01b-4312-974e-309fab2cb10b-onProcessTrack",
          "onException": "4f864d26-a01b-4312-974e-309fab2cb10b-onExceptionTrack"
        },
        "name": "block-execution-connector",
        "stepName": "Payroll  route",
        "type": "connector",
        "description": "Rotas de gerenciamento dos Payroll",
        "id": "4f864d26-a01b-4312-974e-309fab2cb10b"
      }
    ],
    "4f864d26-a01b-4312-974e-309fab2cb10b-onProcessTrack": [
      {
        "operation": "GET",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "GET data",
        "fields": [
          "body",
          "method",
          "path",
          "headers"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "dac6514e-bd22-4346-a388-544a6b653f6a"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT fields",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "body": {
                "*": {
                  "departmentUuids": "departmentUuids",
                  "departmentUuid": "&",
                  "departmentExternalId": "&",
                  "employees": {
                    "*": {
                      "employeeUuids": "employeeUuids[]",
                      "employeeExternalIds": "employeeExternalIds[]"
                    }
                  },
                  "Department": {
                    "*": {
                      "departmentUuids": "&"
                    }
                  },
                  "departments": "departments"
                }
              },
              "headers": "&",
              "method": "&",
              "path": "&"
            }
          },
          {
            "operation": "cardinality",
            "spec": {
              "departments": "MANY",
              "departmentUuids": "MANY",
              "employeeExternalIds": "MANY",
              "employeeUuids": "MANY"
            }
          },
          {
            "operation": "shift",
            "spec": {
              "departmentUuids": "body.departmentUuids",
              "employeeExternalIds": "body.employeeExternalIds",
              "employeeUuids": "body.employeeUuids",
              "departments": "body.departments",
              "departmentUuid": "body.departmentUuid",
              "departmentExternalId": "body.departmentExternalId",
              "headers": "&",
              "method": "&",
              "path": "&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "ff8b510a-1473-474a-bae3-3528caade2f8"
      },
      {
        "operation": "GET",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "GET route",
        "fields": [
          "route"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "471540d0-83df-4f33-b31f-02f64502edd3"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Start flow Payroll",
        "params": {
          "logLevel": "INFO",
          "message": "Start flow Payroll: {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "f9020526-9e3d-4565-9366-b688347c9700"
      },
      {
        "type": "choice",
        "stepName": "Choice",
        "when": [
          {
            "target": "GET export",
            "jsonPath": "$.[?(@.route == 'export'  && @.method == 'GET')]"
          },
          {
            "target": "GET Employees",
            "jsonPath": "$.[?(@.route == 'employees'  &&  @.method == 'GET')]"
          },
          {
            "target": "GET layouts",
            "jsonPath": "$.[?(@.route == 'layouts'  &&  !@.body.layouts && @.method == 'GET')]"
          },
          {
            "target": "POST Activate_employees",
            "jsonPath": "$.[?(@.route == 'activate_employees'  &&  @.method == 'POST')]"
          }
        ],
        "otherwise": "Payroll method not allowed",
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "75584baf-8f38-440b-806b-9cc4ae9e5524"
      }
    ],
    "GET export": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "GET export",
        "params": {
          "logLevel": "INFO",
          "message": "GET export"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "cbee9e80-271a-454f-8460-f522350c5337"
      },
      {
        "params": {
          "url": "{{url-api-oitchau-qintess}}/departments/add_employees",
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.Authorization }}\"}",
          "queryParams": "",
          "operation": "GET",
          "sendBinaryFile": false,
          "fileName": "",
          "connectTimeout": 9000000,
          "readTimeout": 9000000,
          "stopOnClientError": false,
          "stopOnServerError": false,
          "overrideResponseCharset": true,
          "responseCharset": "UTF-8",
          "advanced": false,
          "rawMode": false,
          "rawModeAsBase64": false,
          "saveAsLocalFile": false,
          "isInsecure": false,
          "retry": false,
          "maxRetry": 0,
          "compressBody": false,
          "forceHttp1": false,
          "disableConnectionPool": false,
          "invalidateSSLSessionsOnEveryCall": false
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "GET export",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "fd1b4428-6612-422f-99b5-2b813f652084"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "departmentsResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "f2696301-827a-4fce-9ce2-1faf88ae7a7d"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT departmentsResponse",
        "fields": [
          "departmentsResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "67021fbb-c61e-4018-b69e-75fd80ac1bcb"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.departmentsResponse.status, 204) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "67820f6c-9d5e-4760-ad97-64382d80347f"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "Response API Oitchau payroll",
        "params": {
          "json": "{\n  \"body\":{\n  \"payrollResponse\":{\n               \"status\": {{  message.payrollResponse.status }},\n               \"message\": \"Success\",\n               \"reqId\": \"\"\n         }\n    }\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "9786f1d1-d2c7-41d9-85cd-718be9e57de8"
      }
    ],
    "GET Employees": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "GET Employees",
        "params": {
          "logLevel": "INFO",
          "message": "GET Employees"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "7e46791c-edb6-4e65-9e82-3c7ebbcabb4d"
      },
      {
        "params": {
          "url": "{{url-api-oitchau-qintess}}/departments",
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.Authorization }}\"}",
          "queryParams": "",
          "operation": "GET",
          "sendBinaryFile": false,
          "fileName": "",
          "connectTimeout": 9000000,
          "readTimeout": 9000000,
          "stopOnClientError": false,
          "stopOnServerError": false,
          "overrideResponseCharset": true,
          "responseCharset": "UTF-8",
          "advanced": false,
          "rawMode": false,
          "rawModeAsBase64": false,
          "saveAsLocalFile": false,
          "isInsecure": false,
          "retry": false,
          "maxRetry": 0,
          "compressBody": false,
          "forceHttp1": false,
          "disableConnectionPool": false,
          "invalidateSSLSessionsOnEveryCall": false
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "GET Employees",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "f83492d2-508b-4188-80d8-dfac00b2e331"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "departmentsResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "21789ee7-e2e9-4c5a-952b-51b24128d069"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT departmentsResponse",
        "fields": [
          "departmentsResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "14f18815-c945-47f2-9c7c-ea52b1627c51"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.departmentsResponse.status, 204) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "de9aa492-2603-4b24-ae81-ff410d3ab16f"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "Response API Oitchau payroll",
        "params": {
          "json": "{\n  \"body\":{\n  \"payrollResponse\":{\n               \"status\": {{  message.payrollResponse.status }},\n               \"message\": \"Success\",\n               \"reqId\": \"\"\n         }\n    }\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "df37828e-9836-4d11-985e-34a19436458c"
      }
    ],
    "GET layouts": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "GET layouts",
        "params": {
          "logLevel": "INFO",
          "message": "GET layouts"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "ecc1a2b1-0949-45e8-9e17-cbdda1527204"
      },
      {
        "params": {
          "url": "{{url-api-oitchau-qintess}}/departments",
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.headers.Authorization }}\"}",
          "queryParams": "{}",
          "operation": "GET",
          "sendBinaryFile": false,
          "fileName": "",
          "connectTimeout": 9000000,
          "readTimeout": 9000000,
          "stopOnClientError": false,
          "stopOnServerError": false,
          "overrideResponseCharset": true,
          "responseCharset": "UTF-8",
          "advanced": false,
          "rawMode": false,
          "rawModeAsBase64": false,
          "saveAsLocalFile": false,
          "isInsecure": false,
          "retry": false,
          "maxRetry": 0,
          "compressBody": false,
          "forceHttp1": false,
          "disableConnectionPool": false,
          "invalidateSSLSessionsOnEveryCall": false
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "GET layouts",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "686a9993-b7fe-4e2d-b0df-59a18950db8b"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "departmentsResponse.&",
              "body": {
                "content": "body.departmentsResponse.ContentDepartment"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "8c3192f3-a950-4941-a950-b0654ca7ed8b"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT departmentsResponse",
        "fields": [
          "departmentsResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "fca09d38-c2fe-4fbb-a74f-c04a0d894bf8"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.departmentsResponse.status, 200 ) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "afbceb1a-dffa-4133-850f-20ba7805bcd4"
      }
    ],
    "POST Activate_employees": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "POST Activate_employees",
        "params": {
          "logLevel": "INFO",
          "message": "POST Activate_employees"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "270639ab-90c2-490c-b5de-b1a1abc67ef4"
      },
      {
        "type": "transformer",
        "stepName": "Filter data",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "body": "&",
              "headers": {
                "Authorization": "&"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "baf22af2-b7c5-44e9-9383-dbc83f81e0f9"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "POST Activate_employees request",
        "params": {
          "logLevel": "INFO",
          "message": "POST Activate_employees request: {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "bd6daecb-0c86-4df5-b043-80c6aef5f274"
      },
      {
        "params": {
          "url": "{{url-api-oitchau-qintess}}/departments",
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.Authorization }}\"}",
          "queryParams": "",
          "operation": "POST",
          "sendBinaryFile": false,
          "fileName": "",
          "body": "{{ message.body }}",
          "connectTimeout": 9000000,
          "readTimeout": 9000000,
          "stopOnClientError": false,
          "stopOnServerError": false,
          "overrideResponseCharset": true,
          "responseCharset": "UTF-8",
          "advanced": false,
          "rawMode": false,
          "rawModeAsBase64": false,
          "saveAsLocalFile": false,
          "isInsecure": false,
          "retry": false,
          "maxRetry": 0,
          "compressBody": false,
          "forceHttp1": false,
          "disableConnectionPool": false,
          "invalidateSSLSessionsOnEveryCall": false
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "POST Activate_employees",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "5884f1ca-4da1-4267-a804-f02211a8a192"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "departmentsResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "c3a5aedd-6fed-4b0f-8150-c6b5699b81a1"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT departmentsResponse",
        "fields": [
          "departmentsResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "add4a39c-a648-4dbb-abe0-0714feb1721c"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.departmentsResponse.status, 204) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "7b00ea8e-106e-49d4-a752-91f9bcbb23fa"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "Response API Oitchau payroll",
        "params": {
          "json": "{\n  \"body\":{\n  \"payrollResponse\":{\n               \"status\": {{  message.payrollResponse.status }},\n               \"message\": \"Success\",\n               \"reqId\": \"\"\n         }\n    }\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "e7ddd6d7-4350-47bf-96e6-30a2acc5bca6"
      }
    ],
    "Payroll method not allowed": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Method not allowed",
        "params": {
          "logLevel": "ERROR",
          "message": "Method not allowed"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "f263cc7e-f385-4820-ab10-88569d725b54"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "SET error message",
        "params": {
          "json": "{\n  \"departmentsResponse\":\n  {\n    \"message\": \"Method not allowed\"\n  }\n}",
          "failOnError": false
        },
        "id": "3cd82260-e856-40c6-bdbe-0f59d7c5ca61"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT payrollResponse",
        "fields": [
          "departmentsResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "d206310c-e9ab-4ada-af6c-c0bd9c84e4e5"
      },
      {
        "type": "connector",
        "name": "throw-error-connector",
        "stepName": "Throw Error",
        "params": {
          "customErrorEnabled": true,
          "customError": "{{ message.$ }}",
          "failOnError": true
        },
        "id": "826d6e72-50ee-41c2-841e-5d228b1e2590"
      }
    ],
    "4f864d26-a01b-4312-974e-309fab2cb10b-onExceptionTrack": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Departments exception",
        "params": {
          "logLevel": "ERROR",
          "message": "Departments exception: {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "ae09a657-a8ba-4e7f-b9ec-2d0ded8065e0"
      },
      {
        "operation": "GET",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "GET route + departmentsResponse",
        "fields": [
          "route",
          "departmentsResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "f408d1ba-5f10-4b7e-9b32-70e219b24703"
      },
      {
        "type": "connector",
        "name": "json-transformer-connector",
        "stepName": "FORMAT response method",
        "params": {
          "actions": "[{\"type\":\"edit\",\"props\":[{\"root\":true,\"keyValueStringEdit\":\"{\\\"route\\\":\\\"{{ REPLACE(item.route, \\\\\\\"Request\\\\\\\", \\\\\\\"Response\\\\\\\") }}\\\"}\"}]}]",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "e08cc869-9eb3-4c30-8819-8c27fb0db63b"
      },
      {
        "type": "transformer",
        "stepName": "FORMAT response",
        "transformSpec": [
          {
            "operation": "modify-overwrite-beta",
            "spec": {
              "route": "=concat('web:',@(1,route))"
            }
          },
          {
            "operation": "shift",
            "spec": {
              "departmentsResponse": "body.@(1,route)"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "f54db3b3-80e6-4d9e-b02d-bc2105ba3aae"
      },
      {
        "type": "connector",
        "name": "throw-error-connector",
        "stepName": "Throw Error",
        "params": {
          "customErrorEnabled": true,
          "customError": "{{ message.$ }}",
          "failOnError": true
        },
        "id": "8e52fc3e-6e75-439f-9140-4e6969089697"
      }
    ],
    "subsidiaries": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Subsidiaries route",
        "params": {
          "logLevel": "INFO",
          "message": "Subsidiaries route"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "e36ae3b0-2414-49b3-9f93-7c8ee29e20d0"
      },
      {
        "params": {
          "onProcess": "ae2442f2-9dd0-4772-b9dc-094d38354260-onProcessTrack",
          "onException": "ae2442f2-9dd0-4772-b9dc-094d38354260-onExceptionTrack"
        },
        "name": "block-execution-connector",
        "stepName": "Subsidiaries routes",
        "type": "connector",
        "description": "Rotas de gerenciamento das filiais (POST, PATCH, ADD_EMPLOYEE)",
        "id": "ae2442f2-9dd0-4772-b9dc-094d38354260"
      }
    ],
    "ae2442f2-9dd0-4772-b9dc-094d38354260-onProcessTrack": [
      {
        "operation": "GET",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "GET data",
        "fields": [
          "body",
          "method",
          "path",
          "headers",
          "queryAndPath"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "df2e0a22-9aa4-413d-8f3e-4efab651202c"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT fields",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "body": {
                "body": "&",
                "*": {
                  "method": "&",
                  "subsidiaries": "body.&",
                  "subsidiaryUuid": "&",
                  "employees": {
                    "*": {
                      "*": "body.employeeUuids[]"
                    }
                  },
                  "name": "body.name",
                  "code": "body.code",
                  "taxPayerId": "body.taxPayerId"
                }
              },
              "headers": "&",
              "method": "&",
              "path": "&"
            }
          },
          {
            "operation": "cardinality",
            "spec": {
              "subsidiaries": "MANY"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "6e814d02-6b58-459a-a4a2-a65e2fa8b921"
      },
      {
        "operation": "GET",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "GET route",
        "fields": [
          "route"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "7ad660a3-9c9c-4d0d-a2e3-e891924ccc0d"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Start flow subsidiaries",
        "params": {
          "logLevel": "INFO",
          "message": "Start flow subsidiaries: {{ message.$}}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "d7e1e1b6-f2f8-42af-a024-5f1ac4e55c21"
      },
      {
        "type": "choice",
        "stepName": "Choice",
        "when": [
          {
            "target": "ADD_EMPLOYEES subsidiaries",
            "jsonPath": "$.[?(@.route == 'AddEmployeeSubsidiaryRequest'  && @.method == 'POST')]"
          },
          {
            "target": "POST subsidiaries",
            "jsonPath": "$.[?(@.route == 'CreateUpdateSubsidiaryRequest'  &&  @.method == 'POST')]"
          },
          {
            "target": "PATCH subsidiary",
            "jsonPath": "$.[?(@.route == 'CreateUpdateSubsidiaryRequest'  &&  @.method == 'PATCH')]"
          },
          {
            "target": "GET subsidiaries",
            "jsonPath": "$.[?(@.route == 'GetSubsidiaryRequest'  &&  @.method == 'GET')]"
          }
        ],
        "otherwise": "subsidiaries method not allowed",
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "fd427cf0-4248-4f65-aa01-580e47c08f08"
      }
    ],
    "ADD_EMPLOYEES subsidiaries": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "POST subsidiaries add_employees",
        "params": {
          "logLevel": "INFO",
          "message": "POST subsidiaries add_employees"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "1e08f512-2eea-425d-81f5-dada9e2a7221"
      },
      {
        "type": "transformer",
        "stepName": "Filter bearer",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "body": "&",
              "subsidiaryUuid": "&",
              "headers": {
                "Authorization": "&"
              }
            }
          },
          {
            "operation": "modify-default-beta",
            "spec": {
              "body": {
                "employeeUuids": []
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "6d16b469-0459-4c8b-82c4-2a4e061f34ec"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "ADD_EMPLOYEE to subsidiary request",
        "params": {
          "logLevel": "INFO",
          "message": "ADD_EMPLOYEE to subsidiary request: {{ message.$ }}"
        },
        "id": "bbc73f0a-8580-4065-96a8-8c2c0c8a6b8b"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.Authorization }}\"}",
          "operation": "POST",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 9000000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "",
          "url": "{{url-api-oitchau-qintess}}/subsidiaries/{{ message.subsidiaryUuid }}/add_employees",
          "connectTimeout": 9000000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "POST Subsidiaries add_employees",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "07b685f7-7f30-41a5-9f4e-5838e13c277f"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "subsidiariesResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "0a79d3a6-cf1a-4f61-93c5-9a664ad679e4"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT subsidiariesResponse",
        "fields": [
          "subsidiariesResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "ef736f65-7927-4772-82a9-dc6951839566"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.subsidiariesResponse.status, 204) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "f236bb11-60fe-425c-ac40-8aa18aaf5642"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "Response API Oitchau subsidiaries",
        "params": {
          "json": "{\n  \"body\":{\n  \"subsidiariesResponse\":{\n               \"status\": {{  message.subsidiariesResponse.status }},\n               \"message\": \"Success\",\n               \"reqId\": \"\"\n         }\n}\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "120d48fb-8dbc-4225-9909-336c87a797e8"
      }
    ],
    "POST subsidiaries": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "POST subsidiaries",
        "params": {
          "logLevel": "INFO",
          "message": "POST subsidiaries"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "14e1486a-41c5-4137-a78a-ba46ec54f9b2"
      },
      {
        "type": "transformer",
        "stepName": "Filter bearer",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "body": "&",
              "headers": {
                "Authorization": "&"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "a0a9993c-5e27-4f0b-8f5e-0ca535190aa9"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.Authorization }}\"}",
          "operation": "POST",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 9000000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "",
          "url": "{{url-api-oitchau-qintess}}/subsidiaries",
          "connectTimeout": 9000000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "POST Subsidiary",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "6bfa5155-ddd6-49c8-9900-32bcf35d3c9b"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "subsidiariesResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "bfe19b3d-5b20-47e0-816a-5939afb1a95b"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT subsidiariesResponse",
        "fields": [
          "subsidiariesResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "5f1a0cd0-a8aa-47cc-84d1-a0d4c27af1be"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.subsidiariesResponse.status, 204) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "ac930164-d803-47df-a553-76154290e449"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "Response API Oitchau subsidiaries",
        "params": {
          "json": "{\n  \"body\":{\n  \"subsidiariesResponse\":{\n               \"status\": {{  message.subsidiariesResponse.status }},\n               \"message\": \"Success\",\n               \"reqId\": \"\"\n         }\n}\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "0bdb5109-1f4d-4458-b4d0-c79248450f86"
      }
    ],
    "PATCH subsidiary": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "PATCH subsidiaryUuid",
        "params": {
          "logLevel": "INFO",
          "message": "PATCH subsidiaryUuid {{  message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "571f4aa0-f74b-49f0-a0a2-4864e9081784"
      },
      {
        "type": "transformer",
        "stepName": "Filter bearer",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "body": "&",
              "subsidiaryUuid": "&",
              "headers": {
                "Authorization": "&"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "c474a93f-19b8-430f-b42f-05084a18edc5"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.Authorization }}\"}",
          "operation": "PATCH",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 9000000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "",
          "url": "{{url-api-oitchau-qintess}}/subsidiaries/{{ TOINT(message.subsidiaryUuid) }}",
          "connectTimeout": 9000000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "PATCH SubsidiaryUuid",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "ffb0d1bb-5682-404a-924f-aed88787dacb"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "subsidiariesResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "7496faef-bc0f-414a-8e4c-20ada13ab13f"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT subsidiariesResponse",
        "fields": [
          "subsidiariesResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "9cfc91bd-9c2b-482f-80e2-9ae077da495b"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.subsidiariesResponse.status, 204) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "edbed354-ddfb-4b80-80c1-f8880abb686b"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "Response API Oitchau subsidiaries",
        "params": {
          "json": "{\n  \"body\":{\n  \"subsidiariesResponse\":{\n               \"status\": {{  message.subsidiariesResponse.status }},\n               \"message\": \"Success\",\n               \"reqId\": \"\"\n         }\n}\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "2fc99db5-607a-429c-8170-60d4d796fb84"
      }
    ],
    "GET subsidiaries": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "GET subsidiary",
        "params": {
          "logLevel": "INFO",
          "message": "GET subsidiary"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "7855c9ca-e230-4bb7-a27a-d3ffe92da3fe"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.headers.Authorization }}\"}",
          "operation": "GET",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 9000000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "{}",
          "url": "{{url-api-oitchau-qintess}}/subsidiaries",
          "connectTimeout": 9000000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "GET subsidiary",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "18592e03-5d60-4c6f-8361-7ade6a15b6b2"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "subsidiaryResponse.&",
              "body": {
                "content": {
                  "*": {
                    "*": "body.subsidiaryResponse.ContentSubsidiary[#2].&",
                    "employees": "body.subsidiaryResponse.ContentSubsidiary[#2].subsidiaryEmployees",
                    "locations": "body.subsidiaryResponse.ContentSubsidiary[#2].subsidiaryLocations"
                  }
                }
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "70525e58-aebe-4c1d-b0b7-479a98bac333"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT subsidiaryResponse",
        "fields": [
          "subsidiaryResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "b24ddcd5-b418-48d6-a401-e4b6f98ad5b4"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.subsidiaryResponse.status, 200 ) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "654a51dd-d0ad-4644-9575-9cd35e7426ca"
      }
    ],
    "subsidiaries method not allowed": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Method not allowed",
        "params": {
          "logLevel": "ERROR",
          "message": "Method not allowed"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "119889bc-e0a0-4748-bb68-77986eac5974"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "SET subsidiariesResponse",
        "params": {
          "json": "{\n  \"subsidiariesResponse\": {\n    \"message\": \"Method not allowed\"\n  }\n}",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "4707968a-e03f-4d4a-bb38-c37dcdab363c"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT subsidiariesResponse",
        "fields": [
          "subsidiariesResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "019c97de-6c81-4c83-bd0e-1ea561177981"
      },
      {
        "type": "connector",
        "name": "throw-error-connector",
        "stepName": "Throw Error",
        "params": {
          "customErrorEnabled": true,
          "customError": "{{ message.$ }}",
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "3b3b0438-6271-4640-8aa6-d50bcd406444"
      }
    ],
    "ae2442f2-9dd0-4772-b9dc-094d38354260-onExceptionTrack": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Subsidiaries exception",
        "params": {
          "logLevel": "ERROR",
          "message": "Subsidiaries exception: {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "28f0c5d0-13b0-4c77-91a5-934b21b9bbba"
      },
      {
        "operation": "GET",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "GET route + subsidiariesResponse",
        "fields": [
          "route",
          "subsidiariesResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "709779c3-2057-4afc-b70b-3ef5bf6d178a"
      },
      {
        "type": "connector",
        "name": "json-transformer-connector",
        "stepName": "FORMAT response method",
        "params": {
          "actions": "[{\"type\":\"edit\",\"props\":[{\"root\":true,\"keyValueStringEdit\":\"{\\\"route\\\":\\\"{{ REPLACE(item.route, \\\\\\\"Request\\\\\\\", \\\\\\\"Response\\\\\\\") }}\\\"}\"}]}]",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "698f54c1-a67b-463d-acb4-17d042e41934"
      },
      {
        "type": "transformer",
        "stepName": "FORMAT response",
        "transformSpec": [
          {
            "operation": "modify-overwrite-beta",
            "spec": {
              "route": "=concat('web:',@(1,route))"
            }
          },
          {
            "operation": "shift",
            "spec": {
              "subsidiariesResponse": "body.@(1,route)"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "cda82c46-a687-4a7a-873a-05774b7a6e78"
      },
      {
        "type": "connector",
        "name": "throw-error-connector",
        "stepName": "Throw Error",
        "params": {
          "customErrorEnabled": true,
          "customError": "{{ message.$ }}",
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "31754ebb-e3ef-4d75-af95-1140f82a0d58"
      }
    ],
    "companies": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Companies",
        "params": {
          "logLevel": "INFO",
          "message": "Companies route"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "84d64760-9291-4169-88c7-d33bca694ddf"
      },
      {
        "params": {
          "onProcess": "06b4c8c7-0ca0-4f53-ab04-6a97cc9c859e-onProcessTrack",
          "onException": "06b4c8c7-0ca0-4f53-ab04-6a97cc9c859e-onExceptionTrack"
        },
        "name": "block-execution-connector",
        "stepName": "Companies routes",
        "type": "connector",
        "description": "Rotas de gerenciamento das empresas (GET schedules, POST schedules)",
        "id": "06b4c8c7-0ca0-4f53-ab04-6a97cc9c859e"
      }
    ],
    "06b4c8c7-0ca0-4f53-ab04-6a97cc9c859e-onProcessTrack": [
      {
        "operation": "GET",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "GET data",
        "fields": [
          "body",
          "method",
          "path",
          "headers",
          "queryAndPath"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "2aca4189-4cb0-457f-9c7c-311846e0c67b"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT fields",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "body": {
                "per_page": "headers.&",
                "page": "headers.&",
                "*": {
                  "createdBy": "body.&",
                  "startDate": "body.startDate",
                  "companyUuid": "queryAndPath.&",
                  "scheduleUuid": "queryAndPath.&",
                  "*": {
                    "*": {
                      "*": "body.&"
                    }
                  }
                }
              },
              "path": "&",
              "method": "&",
              "headers": {
                "*": "headers.&"
              }
            }
          },
          {
            "operation": "cardinality",
            "spec": {
              "body": {
                "employeeUuids": "MANY"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "ab4f3128-c177-4bc4-8690-7b820204267c"
      },
      {
        "operation": "GET",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "GET route",
        "fields": [
          "route"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "c8f017f9-aae4-49cc-a154-fe68baf708cb"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Start flow companies",
        "params": {
          "logLevel": "INFO",
          "message": "Start flow companies: {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "33147ba8-4577-4385-8ce3-bbd8494f8953"
      },
      {
        "type": "choice",
        "stepName": "Choice",
        "when": [
          {
            "target": "ASSIGN employee to schedule",
            "jsonPath": "$.[?(@.route == 'AssignEmployeesScheduleRequest'  && @.method == 'POST')]"
          },
          {
            "target": "GET schedules",
            "jsonPath": "$.[?(@.route == 'GetScheduleRequest' && @.method == 'GET')]"
          }
        ],
        "otherwise": "Schedule method not allowed",
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "7d1d7c9d-3ec3-49d0-86a8-d264b890fbb6"
      }
    ],
    "ASSIGN employee to schedule": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Rota Post companies",
        "params": {
          "logLevel": "INFO",
          "message": "Rota Post companies {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "4f8c9ff2-d263-406a-83fc-944146912f31"
      },
      {
        "type": "transformer",
        "stepName": "Filter bearer",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "body": "&",
              "queryAndPath": {
                "companyUuid": "&",
                "scheduleUuid": "&"
              },
              "headers": {
                "Authorization": "&"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "7907f7aa-8888-4139-994f-e6fc46a2c684"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.Authorization }}\"}",
          "operation": "POST",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 800000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "",
          "url": "{{global.url-api-oitchau-qintess}}/companies/{{ message.companyUuid }}/schedules/{{ message.scheduleUuid }}/user_profiles",
          "connectTimeout": 800000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "POST companies - companyUuid / scheduleUuid",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "3b579a80-94f3-4a53-931e-f5b60aaacca3"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "schedulesResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "958fc24d-3094-47a2-bb18-66125d356002"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT schedulesResponse",
        "fields": [
          "schedulesResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "f6c82686-d383-4bc8-a61d-819085896b57"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.schedulesResponse.status, 200) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "3169a5eb-2aa2-4b4a-8854-1babc1902bb8"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "Response API Oitchau schedulesResponse",
        "params": {
          "json": "{\n  \"body\":{\n  \"schedulesResponse\":{\n               \"status\": {{  message.schedulesResponse.status }},\n               \"message\": \"Success\",\n               \"reqId\": \"\"\n         }\n}\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "93edf2e0-83a2-4f3e-8a05-89f4efb78122"
      }
    ],
    "GET schedules": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Route Get schedules",
        "params": {
          "logLevel": "INFO",
          "message": "Route Get schedules "
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "363f054c-4d09-468b-9997-956fce705d87"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.headers.Authorization }}\"}",
          "operation": "GET",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 700000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "{\"per_page\":\"{{ message.headers.per_page }}\",\"page\":\"{{ message.headers.page }}\"}",
          "url": "{{global.url-api-oitchau-qintess}}/schedules/list?",
          "connectTimeout": 700000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "GET list of Schedules",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "d794b394-90b0-4df6-95f4-7cfa1bec244a"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "GET schedules response",
        "params": {
          "logLevel": "INFO",
          "message": "GET schedules response: {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "f18960b6-5c18-46e8-b52c-4d27e413da83"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "schedulesResponse.&",
              "body": {
                "content": "body.schedulesResponse.ContentSchedule"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "e77f48e0-a74f-4f10-a51a-0ebbc0ca3134"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT schedulesResponse",
        "fields": [
          "schedulesResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "40ff7ee4-6bc4-463d-bc87-078c970a43b2"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO(message.schedulesResponse.status, 200) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "1ffb6210-835a-45cd-8316-5c53bd6a3f2a"
      }
    ],
    "Schedule method not allowed": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Method not allowed",
        "params": {
          "logLevel": "ERROR",
          "message": "Method not allowed for Schedules"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "7a44a4d4-3042-4c46-aaf0-f16977a5a803"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "SET schedulesResponse",
        "params": {
          "json": "{\n  \"schedulesResponse\": {\n    \"message\": \"Method not allowed\"\n  }\n}",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "2e5b9399-ac0f-48e2-ada3-832ae2710dd2"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT schedulesResponse",
        "fields": [
          "schedulesResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "138b544b-4c1d-45c5-ae33-26ad72c0e0ae"
      },
      {
        "type": "connector",
        "name": "throw-error-connector",
        "stepName": "Throw Error",
        "params": {
          "customErrorEnabled": true,
          "customError": "{{ message.$ }}",
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "0c6a945e-7c79-41ab-b287-8feb98dbd116"
      }
    ],
    "06b4c8c7-0ca0-4f53-ab04-6a97cc9c859e-onExceptionTrack": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Schedules exception",
        "params": {
          "logLevel": "ERROR",
          "message": "Schedules exception: {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "12c2caaf-664b-458c-a2fd-5410eeadd23e"
      },
      {
        "operation": "GET",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "GET route + schedulesResponse",
        "fields": [
          "route",
          "schedulesResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "66c8f3c2-503b-4dee-88e9-aa824355c6f8"
      },
      {
        "type": "connector",
        "name": "json-transformer-connector",
        "stepName": "FORMAT response method",
        "params": {
          "actions": "[{\"type\":\"edit\",\"props\":[{\"root\":true,\"keyValueStringEdit\":\"{\\\"route\\\":\\\"{{ REPLACE(item.route, \\\\\\\"Request\\\\\\\", \\\\\\\"Response\\\\\\\") }}\\\"}\"}]}]",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "96e256aa-48ea-414c-b582-504f387f3f19"
      },
      {
        "type": "transformer",
        "stepName": "FORMAT response",
        "transformSpec": [
          {
            "operation": "modify-overwrite-beta",
            "spec": {
              "route": "=concat('web:',@(1,route))"
            }
          },
          {
            "operation": "shift",
            "spec": {
              "schedulesResponse": "body.@(1,route)"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "04401e2a-2be0-4462-b57f-c99e310c7023"
      },
      {
        "type": "connector",
        "name": "throw-error-connector",
        "stepName": "Throw Error",
        "params": {
          "customErrorEnabled": true,
          "customError": "{{ message.$ }}",
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "e4980992-c752-440e-a147-9cd53cf7f444"
      }
    ],
    "holidays": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Holidays",
        "params": {
          "logLevel": "INFO",
          "message": "Holidays route"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "80e1453e-a164-4900-a90c-e0f3a4cd8578"
      },
      {
        "params": {
          "onProcess": "e1e74d18-2c8f-4784-b279-cd58b5e37251-onProcessTrack",
          "onException": "e1e74d18-2c8f-4784-b279-cd58b5e37251-onExceptionTrack"
        },
        "name": "block-execution-connector",
        "stepName": "Holidays",
        "type": "connector",
        "description": "Rotas de gerenciamento dos holidays (GET, POST, ACTIVATE, DEACTIVATE, ADD EMPLOYEE)",
        "id": "e1e74d18-2c8f-4784-b279-cd58b5e37251"
      }
    ],
    "e1e74d18-2c8f-4784-b279-cd58b5e37251-onProcessTrack": [
      {
        "operation": "GET",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "GET data",
        "fields": [
          "body",
          "method",
          "headers",
          "route"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "21bbfd20-281f-4e03-949e-0cc2c498b49b"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT fields",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "headers": "&",
              "body": {
                "employeeUuid": "headers.&",
                "from": "headers.&",
                "to": "headers.&",
                "*": {
                  "*": {
                    "holidaysGroupUuid": "headers.&",
                    "*": "body.&1"
                  },
                  "holidaysGroupUuid": "headers.&",
                  "endDate": "body.&",
                  "startDate": "body.&"
                }
              },
              "method": "&",
              "route": "&"
            }
          },
          {
            "operation": "cardinality",
            "spec": {
              "body": {
                "holidays": "MANY",
                "employees": "MANY"
              }
            }
          }
        ],
        "id": "8b854711-c6b2-43a7-8240-33eb45b57603"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Start flow holidays",
        "params": {
          "logLevel": "INFO",
          "message": "Start flow holidays: {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "b0502a44-3422-4abf-bf2f-9658153acfdb"
      },
      {
        "type": "choice",
        "stepName": "Choice",
        "when": [
          {
            "target": "GET employees' holidays",
            "jsonPath": "$.[?(@.route == 'GetHolidaysEmployeeRequest' && @.method == 'GET')]"
          },
          {
            "target": "REMOVE employees from group",
            "jsonPath": "$.[?(@.route == 'UnassignEmployeesHolidaysGroupRequest' && @.method == 'POST')]"
          },
          {
            "target": "POST holidays",
            "jsonPath": "$.[?(@.route == 'CreateHolidayRequest' && @.method == 'POST')]"
          },
          {
            "target": "GET holidays groups",
            "jsonPath": "$.[?(@.route == 'GetHolidayGroupRequest' && @.method == 'GET' && !@.headers.holidaysGroupUuid)]"
          },
          {
            "target": "POST holidays group",
            "jsonPath": "$.[?(@.route == 'CreateHolidayGroupRequest' && @.method == 'POST')]"
          },
          {
            "target": "GET holidays group by holidaysGroupUuid",
            "jsonPath": "$.[?(@.route == 'GetHolidayGroupRequest' && @.method == 'GET' && @.headers.holidaysGroupUuid)]"
          },
          {
            "target": "DEACTIVATE holidays groups",
            "jsonPath": "$.[?(@.route == 'DeactivateHolidaysGroupRequest' && @.method == 'POST')]"
          },
          {
            "target": "ACTIVATE holidays groups",
            "jsonPath": "$.[?(@.route == 'ActivateHolidaysGroupRequest' && @.method == 'POST')]"
          },
          {
            "target": "ADD_EMPLOYEES to group",
            "jsonPath": "$.[?(@.route == 'AssignEmployeesHolidaysGroupRequest' && @.method == 'POST')]"
          },
          {
            "target": "DELETE holidays",
            "jsonPath": "$.[?(@.route == 'DeleteHolidayRequest' && @.method == 'POST')]"
          }
        ],
        "otherwise": "Holidays method not allowed",
        "id": "4a1cd117-047e-415a-941d-82a06c5619e4"
      }
    ],
    "GET employees' holidays": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "GET employee holidays",
        "params": {
          "logLevel": "INFO",
          "message": "GET employee holidays"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "e5e71b25-6494-4e60-a652-3c3746a573be"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.headers.Authorization }}\"}",
          "operation": "GET",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 30000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "{\"from\":\"{{ message.headers.from }}\",\"to\":\"{{ message.headers.to }}\"}",
          "url": "{{url-api-oitchau-qintess}}/holidays-groups/holidays/employees/{{ message.headers.employeeUuid }}",
          "connectTimeout": 30000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "GET employee holidays",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "e1a40f62-799b-490e-8ef4-e24226a7c660"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT response message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "holidaysResponse.&",
              "body": {
                "content": "body.holidaysResponse.ContentHolidayEmployee"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "855e7223-a21c-451c-83c3-10d190584927"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT holidaysResponse",
        "fields": [
          "holidaysResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "16400a21-f764-405b-a750-59ba25555fc7"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO(message.holidaysResponse.status, 200) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "26320ea2-f0b9-43ad-b0fd-ad5eaf9b1e23"
      }
    ],
    "REMOVE employees from group": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "UNASSIGN employee from group",
        "params": {
          "logLevel": "INFO",
          "message": "UNASSIGN employee from Holiday Groups"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "23d92fd8-fd64-4e0f-98e7-69224a9dd110"
      },
      {
        "type": "transformer",
        "stepName": "TRANSFORM object into array",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "headers": "&",
              "body": {
                "employees": {
                  "*": {
                    "*": "body.employeeUuids[]"
                  }
                },
                "endDate": "body.&"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "1fe1112d-d505-4e93-a8d9-01aaf80cbddb"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "UNASSIGN employee from Holiday Groups request",
        "params": {
          "logLevel": "INFO",
          "message": "UNASSIGN employee from Holiday Groups request: {{ message.body }"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "54dcc04b-cb76-4686-9810-e7d8106bc7be"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.headers.Authorization }}\"}",
          "operation": "POST",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 700000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "{}",
          "url": "{{global.url-api-oitchau-qintess}}/holidays-groups/{{ message.headers.holidaysGroupUuid }}/remove_employees",
          "connectTimeout": 700000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "UNASSIGN employee from holidays groups",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "4770c986-ca8e-4453-a867-1064b61b1cbe"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT response message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "holidaysResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "2c36215f-9ca6-4733-a7da-05db16aeed83"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT holidaysResponse",
        "fields": [
          "holidaysResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "4eccfd49-b0d0-4fdf-8737-137dc3559075"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO(message.holidaysResponse.status, 204) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "871f3959-d483-4c0b-8d7d-16dc39c050a8"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "SET response message",
        "params": {
          "json": "{\n  \"body\":{\n      \"holidaysResponse\":\n       {\n          \"status\": {{ message.holidaysResponse.status }},\n          \"message\": \"Success\",\n          \"reqId\": \"\"\n        }\n  }\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "db1f8bec-e1d8-49d3-8a02-bcbc0306c9ff"
      }
    ],
    "POST holidays": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "POST holiday",
        "params": {
          "logLevel": "INFO",
          "message": "POST holiday"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "02f17a51-5da2-480d-b21f-e59cf249ffc1"
      },
      {
        "type": "transformer",
        "stepName": "TRANSFORM repeatAnnually to boolean",
        "transformSpec": [
          {
            "operation": "modify-overwrite-beta",
            "spec": {
              "body": {
                "holidays": {
                  "*": {
                    "repeatAnnually": "=toBoolean"
                  }
                }
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "e17ea8a8-7860-4db1-9c4e-c5fe94f2e6bf"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "POST holiday request",
        "params": {
          "logLevel": "INFO",
          "message": "POST holiday request: {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "9c52ae1c-bedd-434c-9131-894bb4b41efe"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.headers.Authorization }}\"}",
          "operation": "POST",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 700000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "{}",
          "url": "{{global.url-api-oitchau-qintess}}/holidays-groups/{{ message.headers.holidaysGroupUuid }}/add_holidays",
          "connectTimeout": 700000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "POST holiday",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "de06a2a9-dadf-451d-b015-730ad252dfc9"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT response message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "holidaysResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "295da9c1-24ad-4d10-8050-e72dfd7c6a21"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT holidaysResponse",
        "fields": [
          "holidaysResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "0cecd6a8-63e8-4cae-8720-ef7f14857fa2"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO(message.holidaysResponse.status, 204) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "2d36d1da-d5e8-463e-b899-a28c9346ec66"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "SET response message",
        "params": {
          "json": "{\n  \"body\":{\n      \"holidaysResponse\":\n       {\n          \"status\": {{ message.holidaysResponse.status }},\n          \"message\": \"Success\",\n          \"reqId\": \"\"\n        }\n  }\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "a2ea6fc4-da8b-4092-8dd3-2bda8214c130"
      }
    ],
    "GET holidays groups": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "GET Holiday Group",
        "params": {
          "logLevel": "INFO",
          "message": "GET holiday groups"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "bd01f782-e63b-4cbb-a337-00b5d20e034b"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.headers.Authorization }}\"}",
          "operation": "GET",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 700000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "{}",
          "url": "{{global.url-api-oitchau-qintess}}/holidays-groups",
          "connectTimeout": 700000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "GET holidays groups",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "4a6bd9ee-c11f-4e07-b591-d2be39bdf98c"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT response message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "holidaysResponse.&",
              "body": {
                "content": "body.holidaysResponse.ContentHolidayGroup"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "acfa917a-ba61-4e6c-817e-bb86726e56a5"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT holidaysResponse",
        "fields": [
          "holidaysResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "957993a4-5ac6-44ac-8a5d-b7d15715f8c4"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO(message.holidaysResponse.status, 200) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "acb733aa-23c4-4707-a3c4-6a4f2e280ac7"
      }
    ],
    "POST holidays group": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "POST Holiday Groups",
        "params": {
          "logLevel": "INFO",
          "message": "POST Holiday Groups"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "9a3b6624-13ca-403e-ac3d-fd9bd312b59a"
      },
      {
        "type": "transformer",
        "stepName": "TRANSFORM object into array",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "headers": "&",
              "body": {
                "holidaysGroups": "&1.&"
              }
            }
          },
          {
            "operation": "cardinality",
            "spec": {
              "body": {
                "holidaysGroups": "MANY"
              }
            }
          }
        ],
        "id": "a91e715a-a584-43a0-9aee-7e9258e5067d"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "POST Holiday Groups request",
        "params": {
          "logLevel": "INFO",
          "message": "POST Holiday Groups request: {{ message.body }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "0d0ed4cc-f5eb-4981-b1bf-798ccb1763ab"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.headers.Authorization }}\"}",
          "operation": "POST",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 700000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "{}",
          "url": "{{global.url-api-oitchau-qintess}}/holidays-groups",
          "connectTimeout": 700000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "POST holidays groups",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "371d9609-6a69-4ea4-9014-09ba7bd372fc"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT response message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "holidaysResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "312ce1bb-592d-4b80-ac01-5a1b35afc704"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT holidaysResponse",
        "fields": [
          "holidaysResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "b3239b66-7323-4901-a0b5-4d6f25b33ec6"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO(message.holidaysResponse.status, 204) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "e65b52ad-fad2-4858-93a0-fd19ee145ab9"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "SET response message",
        "params": {
          "json": "{\n  \"body\":{\n      \"holidaysResponse\":\n       {\n          \"status\": {{ message.holidaysResponse.status }},\n          \"message\": \"Success\",\n          \"reqId\": \"\"\n        }\n  }\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "b68f47a8-9c9a-474a-b85d-ce638c098a86"
      }
    ],
    "GET holidays group by holidaysGroupUuid": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "GET Holiday Group",
        "params": {
          "logLevel": "INFO",
          "message": "GET holiday groups"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "6d338667-1849-4e75-8973-cc273483ca5d"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.headers.Authorization }}\"}",
          "operation": "GET",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 700000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "{}",
          "url": "{{global.url-api-oitchau-qintess}}/holidays-groups/{{ message.headers.holidaysGroupUuid }}",
          "connectTimeout": 700000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "GET holidays groups by holidaysGroupUuid",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "738a85b1-8e3f-4143-86cf-45cd2af797c6"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT response message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "holidaysResponse.&",
              "body": {
                "content": "body.holidaysResponse.ContentHolidayEmployee"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "eb341c84-c81d-4280-b4dd-ce3facdc68bc"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT holidaysResponse",
        "fields": [
          "holidaysResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "cff759c4-ccca-4910-8236-5042adc35462"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO(message.holidaysResponse.status, 200) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "1929a401-9e5c-4b3f-b200-ff15480db8df"
      }
    ],
    "DEACTIVATE holidays groups": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "DEACTIVATE Holiday Groups",
        "params": {
          "logLevel": "INFO",
          "message": "DEACTIVATE Holiday Groups"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "b23260af-a753-4b74-a972-a0a511da89c2"
      },
      {
        "type": "transformer",
        "stepName": "TRANSFORM object into array",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "headers": "&",
              "body": {
                "holidays": {
                  "*": {
                    "*": "body.holidaysGroupUuids"
                  }
                },
                "endDate": "body.&"
              }
            }
          },
          {
            "operation": "cardinality",
            "spec": {
              "body": {
                "holidaysGroupUuids": "MANY"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "22ec06ef-5572-4a62-9d3e-fd5e7ba77749"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "DEACTIVATE Holiday Groups request",
        "params": {
          "logLevel": "INFO",
          "message": "DEACTIVATE Holiday Groups request: {{ message.body }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "e3dc1816-efdc-4a17-8c49-2ad73dfe6586"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.headers.Authorization }}\"}",
          "operation": "POST",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 700000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "{}",
          "url": "{{global.url-api-oitchau-qintess}}/deactivate_holidays_groups",
          "connectTimeout": 700000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "DEACTIVATE holidays groups",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "bc4bf5aa-6df6-4916-a83a-a2a35ac09d51"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT response message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "holidaysResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "a7e364dd-bcb1-4e01-b3fe-6a14c3d785ee"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT holidaysResponse",
        "fields": [
          "holidaysResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "4d683775-fd7b-42f0-844a-0160a14d737f"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO(message.holidaysResponse.status, 204) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "b54fa2fa-5280-4818-8dbc-9008c62e9a2d"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "SET response message",
        "params": {
          "json": "{\n  \"body\":{\n      \"holidaysResponse\":\n       {\n          \"status\": {{ message.holidaysResponse.status }},\n          \"message\": \"Success\",\n          \"reqId\": \"\"\n        }\n  }\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "4605abc4-bb16-4361-aa07-3596a1272ecd"
      }
    ],
    "ACTIVATE holidays groups": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "ACTIVATE Holiday Groups",
        "params": {
          "logLevel": "INFO",
          "message": "ACTIVATE Holiday Groups"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "66adb938-6bad-4b6d-9aa6-c92d765e871a"
      },
      {
        "type": "transformer",
        "stepName": "TRANSFORM object into array",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "headers": "&",
              "body": {
                "holidays": {
                  "*": {
                    "*": "body.holidaysGroupUuids"
                  }
                }
              }
            }
          },
          {
            "operation": "cardinality",
            "spec": {
              "body": {
                "holidaysGroupUuids": "MANY"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "ab6173f2-78a7-4465-9ffa-3489f0f51f6f"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "ACTIVATE Holiday Groups request",
        "params": {
          "logLevel": "INFO",
          "message": "ACTIVATE Holiday Groups request: {{ message.body }"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "e34694bd-d60e-478f-b13e-e75f6be6ae52"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.headers.Authorization }}\"}",
          "operation": "POST",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 700000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "{}",
          "url": "{{global.url-api-oitchau-qintess}}/activate_holidays_groups",
          "connectTimeout": 700000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "ACTIVATE holidays groups",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "0316b25c-4c34-47af-90b9-290d3102799b"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT response message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "holidaysResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "9559e35e-d888-4fee-81e1-37a6cb3d4b25"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT holidaysResponse",
        "fields": [
          "holidaysResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "e44df503-a4ff-4824-8d66-46ce07b15df0"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO(message.holidaysResponse.status, 204) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "6eca11f5-5914-4973-91a2-c9ce62a1edf0"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "SET response message",
        "params": {
          "json": "{\n  \"body\":{\n      \"holidaysResponse\":\n       {\n          \"status\": {{ message.holidaysResponse.status }},\n          \"message\": \"Success\",\n          \"reqId\": \"\"\n        }\n  }\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "cf170654-b690-413b-8aa7-1e84a0fecbba"
      }
    ],
    "ADD_EMPLOYEES to group": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "ASSIGN employee to group",
        "params": {
          "logLevel": "INFO",
          "message": "ASSIGN employee to Holiday Groups"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "eb01263a-b652-4a38-8b9c-9c82bf12718f"
      },
      {
        "type": "transformer",
        "stepName": "TRANSFORM object into array",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "headers": "&",
              "body": {
                "employees": {
                  "*": {
                    "*": "body.employeeUuids[]"
                  }
                },
                "startDate": "body.&"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "6c29b166-17d2-45ab-bdea-8bb05926fad1"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "ASSIGN employee to Holiday Groups request",
        "params": {
          "logLevel": "INFO",
          "message": "ASSIGN employee to Holiday Groups request: {{ message.body }"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "73f0ac2a-78f3-4aa2-ad48-70be569290c2"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.headers.Authorization }}\"}",
          "operation": "POST",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 700000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "{}",
          "url": "{{global.url-api-oitchau-qintess}}/holidays-groups/{{ message.headers.holidaysGroupUuid }}/add_employees",
          "connectTimeout": 700000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "ASSIGN employee to holidays group",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "4f08bd2c-5706-4d0d-8205-2bf1c83dcea4"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT response message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "holidaysResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "5793e217-0ac0-445c-ab23-cfd26880ebb6"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT holidaysResponse",
        "fields": [
          "holidaysResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "01440c97-5558-400a-a091-4e047e2b9428"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO(message.holidaysResponse.status, 204) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "60e7744e-dc18-452b-97b6-8befb92580f5"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "SET response message",
        "params": {
          "json": "{\n  \"body\":{\n      \"holidaysResponse\":\n       {\n          \"status\": {{ message.holidaysResponse.status }},\n          \"message\": \"Success\",\n          \"reqId\": \"\"\n        }\n  }\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "cc78845b-777c-459a-9249-de23482f7e45"
      }
    ],
    "DELETE holidays": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "DELETE holiday",
        "params": {
          "logLevel": "INFO",
          "message": "DELETE holiday"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "92c0fb7b-1cd9-4ddf-8479-4f7887c974f6"
      },
      {
        "type": "transformer",
        "stepName": "TRANSFORM object into array",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "headers": "&",
              "body": {
                "holidays": {
                  "*": {
                    "*": "body.holidayUuids[]"
                  }
                }
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "178babf8-c49c-45e0-8c6f-a2233e25816b"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "DELETE holiday request",
        "params": {
          "logLevel": "INFO",
          "message": "DELETE holiday: {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "2ec01cb8-d3f8-4089-ae53-35d3b2672f42"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.headers.Authorization }}\"}",
          "operation": "POST",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 700000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "{}",
          "url": "{{global.url-api-oitchau-qintess}}/holidays-groups/{{ message.headers.holidaysGroupUuid }}/delete_holidays",
          "connectTimeout": 700000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "DELETE holiday",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "f6efe94f-b6e5-4945-8f09-aec5cee2764f"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT response message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "holidaysResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "b631f419-4326-4ce6-86ed-6813ea70b709"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT holidaysResponse",
        "fields": [
          "holidaysResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "78c4d482-6378-4aea-b673-06c9d9ade8df"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO(message.holidaysResponse.status, 204) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "0386aaab-248b-4ac8-9ffb-523fdc475adc"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "SET response message",
        "params": {
          "json": "{\n  \"body\":{\n      \"holidaysResponse\":\n       {\n          \"status\": {{ message.holidaysResponse.status }},\n          \"message\": \"Success\",\n          \"reqId\": \"\"\n        }\n  }\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "c81623dc-7bf4-4e59-852d-006c83e38c49"
      }
    ],
    "Holidays method not allowed": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Method not allowed",
        "params": {
          "logLevel": "ERROR",
          "message": "Method not allowed for Holidays"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "3b9730fd-48ac-4634-abd3-9702cf9a1570"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "SET schedulesResponse",
        "params": {
          "json": "{\n  \"holidaysResponse\": {\n    \"code\": 500,\n    \"message\": \"Method not allowed\"\n  }\n}",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "8a871391-5a0c-4214-b078-8bd1fdc595ab"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT holidaysResponse",
        "fields": [
          "holidaysResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "7c868ea0-9bcb-4111-b6c8-f12a93dac94a"
      },
      {
        "type": "connector",
        "name": "throw-error-connector",
        "stepName": "Throw Error",
        "params": {
          "customErrorEnabled": true,
          "customError": "{{ message.$ }}",
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "0175dd0b-69c5-4470-9f35-f28349047802"
      }
    ],
    "e1e74d18-2c8f-4784-b279-cd58b5e37251-onExceptionTrack": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Holidays exception",
        "params": {
          "logLevel": "ERROR",
          "message": "Holidays exception: {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "02234ed6-ac91-4d76-94b0-d216b5ca15a8"
      },
      {
        "operation": "GET",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "GET route + holidaysResponse",
        "fields": [
          "route",
          "holidaysResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "3cbf71ff-fc36-47fd-a5f4-7f6c06b91b84"
      },
      {
        "type": "connector",
        "name": "json-transformer-connector",
        "stepName": "FORMAT response method",
        "params": {
          "actions": "[{\"type\":\"edit\",\"props\":[{\"root\":true,\"keyValueStringEdit\":\"{\\\"route\\\":\\\"{{ REPLACE(item.route, \\\\\\\"Request\\\\\\\", \\\\\\\"Response\\\\\\\") }}\\\"}\"}]}]",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "2cd98485-094a-4d98-8136-abcda8e2e855"
      },
      {
        "type": "transformer",
        "stepName": "FORMAT response",
        "transformSpec": [
          {
            "operation": "modify-overwrite-beta",
            "spec": {
              "route": "=concat('web:',@(1,route))"
            }
          },
          {
            "operation": "shift",
            "spec": {
              "holidaysResponse": "body.@(1,route)"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "fed17d07-c301-492f-b058-de6cd9df2cd8"
      },
      {
        "type": "connector",
        "name": "throw-error-connector",
        "stepName": "Throw Error",
        "params": {
          "customErrorEnabled": true,
          "customError": "{{ message.$ }}",
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "1b4996f7-79f3-4223-a15c-7ebc8f14830f"
      }
    ],
    "departments": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Payroll route",
        "params": {
          "logLevel": "INFO",
          "message": "Payroll route"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "237a7c48-03d5-4d31-8a3a-f351f30453c8"
      },
      {
        "params": {
          "onProcess": "c862fdf5-69fa-43c1-948e-2dddb926ee73-onProcessTrack",
          "onException": "c862fdf5-69fa-43c1-948e-2dddb926ee73-onExceptionTrack"
        },
        "name": "block-execution-connector",
        "stepName": "Departments route",
        "type": "connector",
        "description": "Rotas de gerenciamento dos departamentos (ADD_EMPLOYEES, GET, POST, PATCH, DEACTIVATE)",
        "id": "c862fdf5-69fa-43c1-948e-2dddb926ee73"
      }
    ],
    "c862fdf5-69fa-43c1-948e-2dddb926ee73-onProcessTrack": [
      {
        "operation": "GET",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "GET data",
        "fields": [
          "body",
          "method",
          "path",
          "headers"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "2de45eea-a877-4b60-8d98-0f2fa579b2ef"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT fields",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "body": {
                "*": {
                  "departmentUuids": "departmentUuids",
                  "departmentUuid": "&",
                  "departmentExternalId": "&",
                  "employees": {
                    "*": {
                      "employeeUuids": "employeeUuids[]",
                      "employeeExternalIds": "employeeExternalIds[]"
                    }
                  },
                  "Department": {
                    "*": {
                      "departmentUuids": "&"
                    }
                  },
                  "departments": "departments"
                }
              },
              "headers": "&",
              "method": "&",
              "path": "&"
            }
          },
          {
            "operation": "cardinality",
            "spec": {
              "departments": "MANY",
              "departmentUuids": "MANY",
              "employeeExternalIds": "MANY",
              "employeeUuids": "MANY"
            }
          },
          {
            "operation": "shift",
            "spec": {
              "departmentUuids": "body.departmentUuids",
              "employeeExternalIds": "body.employeeExternalIds",
              "employeeUuids": "body.employeeUuids",
              "departments": "body.departments",
              "departmentUuid": "body.departmentUuid",
              "departmentExternalId": "body.departmentExternalId",
              "headers": "&",
              "method": "&",
              "path": "&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "a2f79490-e04e-451b-8d75-977329020ca5"
      },
      {
        "operation": "GET",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "GET route",
        "fields": [
          "route"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "2963b4d2-d7eb-495a-82c5-15609d2e5a89"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Start flow departments",
        "params": {
          "logLevel": "INFO",
          "message": "Start flow departments: {{ message.$}}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "405300f0-04a5-4cd3-a32f-28a49730ff2f"
      },
      {
        "type": "choice",
        "stepName": "Choice",
        "when": [
          {
            "target": "GET department by departmentUuid #wAHi4v#",
            "jsonPath": "$.[?(@.route == 'GetDepartmentRequest'  &&  @.body.departments && @.method == 'GET')]"
          },
          {
            "target": "Department add_employees #nM9Hlv#",
            "jsonPath": "$.[?(@.route == 'AddEmployeeDepartmentRequest'  && @.method == 'POST')]"
          },
          {
            "target": "POST departments #jklvXD#",
            "jsonPath": "$.[?(@.route == 'CreateUpdateDepartmentRequest'  &&  @.method == 'POST')]"
          },
          {
            "target": "GET departments #BY3mwr#",
            "jsonPath": "$.[?(@.route == 'GetDepartmentRequest'  &&  !@.body.departments && @.method == 'GET')]"
          },
          {
            "target": "PATCH departments #iyNymR#",
            "jsonPath": "$.[?(@.route == 'CreateUpdateDepartmentRequest'  &&  @.method == 'PATCH')]"
          },
          {
            "target": "POST deactivate_departments #GjtIRD#",
            "jsonPath": "$.[?(@.route == 'DeactivateDepartmentRequest'  && @.method == 'POST')]"
          }
        ],
        "otherwise": "Department method not allowed #skPV1b#",
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "4eede608-000e-46f1-883c-5265fe7d99f2"
      }
    ],
    "GET department by departmentUuid #wAHi4v#": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "GET department by  departmentUuid",
        "params": {
          "logLevel": "INFO",
          "message": "GET department by  departmentUuid"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "d2b41d5c-a8c9-456e-8881-e60fdad00300"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.headers.Authorization }}\"}",
          "operation": "GET",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 9000000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "{}",
          "url": "{{url-api-oitchau-qintess}}/departments/{{ message.body.departments[0].departmentUuid }}",
          "connectTimeout": 9000000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "GET department by departmentUuid",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "196d8a21-058e-4231-a0fb-2d67e2f77a62"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "departmentsResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "9ca9b53f-3f8b-47b5-a9e3-00d3477df7d9"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT departmentsResponse",
        "fields": [
          "departmentsResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "cdb53577-1c1e-48dd-aacd-9a243a9cc01f"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.departmentsResponse.status, 200 ) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "bc59036f-16f8-4284-96a1-13537385e5c7"
      }
    ],
    "Department add_employees #nM9Hlv#": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "ADD_EMPLOYEE to department",
        "params": {
          "logLevel": "INFO",
          "message": "ADD_EMPLOYEE to department"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "9c51b2b5-9c13-4809-abec-96359b51de45"
      },
      {
        "type": "transformer",
        "stepName": "Filter data",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "body": "&",
              "headers": {
                "Authorization": "&"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "cc1c0a2f-4c3e-4491-a609-be208efba8fd"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "ADD_EMPLOYEE to department request",
        "params": {
          "logLevel": "INFO",
          "message": "ADD_EMPLOYEE to department request: {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "14840a13-e8d9-4874-9ea2-ef0bd2ab67d3"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.Authorization }}\"}",
          "operation": "POST",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 9000000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "",
          "url": "{{url-api-oitchau-qintess}}/departments/add_employees",
          "connectTimeout": 9000000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "POST departments add-employees",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "923a7a06-7c58-404f-ba48-06a0fed55e58"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "departmentsResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "9c678e46-3368-4d82-b0fa-df4772b17a26"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT departmentsResponse",
        "fields": [
          "departmentsResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "ed0d3c6b-1275-4089-b0af-cd82885580c8"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.departmentsResponse.status, 204) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "70d3f14b-688d-4acd-9caa-53a9630637bd"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "Response API Oitchau departments",
        "params": {
          "json": "{\n  \"body\":{\n  \"departmentsResponse\":{\n               \"status\": {{  message.departmentsResponse.status }},\n               \"message\": \"Success\",\n               \"reqId\": \"\"\n         }\n    }\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "674f5549-1048-4a6e-82cd-045cf96e22aa"
      }
    ],
    "POST departments #jklvXD#": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "POST departments",
        "params": {
          "logLevel": "INFO",
          "message": "POST departments"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "3844d7ad-94bf-4eee-a523-08faab3755be"
      },
      {
        "type": "transformer",
        "stepName": "Filter data",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "body": "&",
              "headers": {
                "Authorization": "&"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "71995d38-16eb-4350-b1df-75176328a412"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "POST department request",
        "params": {
          "logLevel": "INFO",
          "message": "POST department request: {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "029e4e81-3c3b-4de9-93da-3ab82c3a86e2"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.Authorization }}\"}",
          "operation": "POST",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 9000000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "",
          "url": "{{url-api-oitchau-qintess}}/departments",
          "connectTimeout": 9000000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "POST departments",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "802598d1-f3be-492e-b832-5cfe9ea631b5"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "departmentsResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "cb9563b8-9d4b-47dc-90b0-50bbde59163d"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT departmentsResponse",
        "fields": [
          "departmentsResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "a9bdb1db-39b7-4e91-8253-7e8726de8fcf"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.departmentsResponse.status, 204) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "39fd886c-e3d2-45a7-9d94-711c22ca035d"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "Response API Oitchau departments",
        "params": {
          "json": "{\n  \"body\":{\n  \"departmentsResponse\":{\n               \"status\": {{  message.departmentsResponse.status }},\n               \"message\": \"Success\",\n               \"reqId\": \"\"\n         }\n    }\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "2b2ba309-71ac-4d72-9bf8-bcd584065a49"
      }
    ],
    "GET departments #BY3mwr#": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "GET departments",
        "params": {
          "logLevel": "INFO",
          "message": "GET departments"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "c52dc0a9-777c-49b9-9aa8-a372b528a3f1"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.headers.Authorization }}\"}",
          "operation": "GET",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 9000000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "{}",
          "url": "{{url-api-oitchau-qintess}}/departments",
          "connectTimeout": 9000000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "GET departments",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "2a39055b-e714-4bd8-952b-a8a8477b6eb2"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "departmentsResponse.&",
              "body": {
                "content": "body.departmentsResponse.ContentDepartment"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "54f7c5b9-f122-44f1-b735-273cc5b5635d"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT departmentsResponse",
        "fields": [
          "departmentsResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "0b2f674c-25e0-4d35-88b9-9b64391de9ce"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.departmentsResponse.status, 200 ) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "98b753d3-b57d-40c7-a4d9-da8931c1c70d"
      }
    ],
    "PATCH departments #iyNymR#": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "PATCH departments",
        "params": {
          "logLevel": "INFO",
          "message": "PATCH departments"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "97b0d567-ca10-476e-90a4-97573fec5d17"
      },
      {
        "type": "transformer",
        "stepName": "Filter data",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "body": "&",
              "headers": {
                "Authorization": "&"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "e75fa4e7-62ed-4f37-a211-adb33d463144"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "PATCH department request",
        "params": {
          "logLevel": "INFO",
          "message": "PATCH department request: {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "c9305559-2086-4bfc-9cbf-bb11848fbe29"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.Authorization }}\"}",
          "operation": "PATCH",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 9000000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "",
          "url": "{{url-api-oitchau-qintess}}/departments",
          "connectTimeout": 9000000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "PATCH departments",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "ca09faf3-f112-47f7-bac6-74d86399efcb"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "departmentsResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "0b264914-5458-4628-9bcf-0da0ec79242b"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT departmentsResponse",
        "fields": [
          "departmentsResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "6ff954b3-b461-4286-947f-ad9b1ec6e932"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.departmentsResponse.status, 204) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "9c4ef75b-5b22-4d53-8064-ec9d5eecc7da"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "Response API Oitchau departments",
        "params": {
          "json": "{\n  \"body\":{\n  \"departmentsResponse\":{\n               \"status\": {{  message.departmentsResponse.status }},\n               \"message\": \"Success\",\n               \"reqId\": \"\"\n         }\n    }\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "0a556e55-b647-46bb-9042-cf4e9dd62350"
      }
    ],
    "POST deactivate_departments #GjtIRD#": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "POST deactivate_employees",
        "params": {
          "logLevel": "INFO",
          "message": "POST deactivate_employees"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "cd14d9dc-79e0-4bbb-a214-2710640ac2b4"
      },
      {
        "type": "transformer",
        "stepName": "Filter data",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "body": "&",
              "headers": {
                "Authorization": "&"
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "e0b41c08-d9e7-4bbd-8196-b9a62d6182c6"
      },
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Deactivate department request",
        "params": {
          "logLevel": "INFO",
          "message": "Deactivate department request: {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "cf70b08e-ac62-4d62-bd0d-01785de44a7d"
      },
      {
        "params": {
          "advanced": false,
          "disableConnectionPool": false,
          "body": "{{ message.body }}",
          "compressBody": false,
          "stopOnServerError": false,
          "maxRetry": 0,
          "sendBinaryFile": false,
          "isInsecure": false,
          "headers": "{\"Content-Type\":\"application/json\",\"Authorization\":\"{{ message.Authorization }}\"}",
          "operation": "POST",
          "fileName": "",
          "retry": false,
          "responseCharset": "UTF-8",
          "rawMode": false,
          "readTimeout": 9000000,
          "invalidateSSLSessionsOnEveryCall": false,
          "rawModeAsBase64": false,
          "queryParams": "",
          "url": "{{url-api-oitchau-qintess}}/departments/deactivate_departments",
          "connectTimeout": 9000000,
          "saveAsLocalFile": false,
          "stopOnClientError": false,
          "forceHttp1": false,
          "overrideResponseCharset": true
        },
        "accountLabel": "",
        "name": "rest-connector-v2",
        "accountLabels": {
          "custom-1": "",
          "custom-2": ""
        },
        "stepName": "POST deactivate_departments",
        "type": "connector",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "3b158585-48af-4e48-8e94-832abf4473ea"
      },
      {
        "type": "transformer",
        "stepName": "EXTRACT error message",
        "transformSpec": [
          {
            "operation": "remove",
            "spec": {
              "headers": ""
            }
          },
          {
            "operation": "shift",
            "spec": {
              "*": "departmentsResponse.&"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "04b4324d-a875-4609-9689-250a8e3757fd"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT departmentsResponse",
        "fields": [
          "departmentsResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "99c6664e-79a3-4660-9a07-cc05e9c2b89f"
      },
      {
        "type": "connector",
        "name": "assert-connector-v2",
        "stepName": "Assert V2",
        "params": {
          "condition": "{{ EQUALTO( message.departmentsResponse.status, 204) }}",
          "errorMessage": "{{ message.$ }}",
          "internalErrorMessage": "{{ message.$ }}",
          "errorCode": 500,
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "a3bd57bc-f42c-4ae3-8782-288901609d5a"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "Response API Oitchau departments",
        "params": {
          "json": "{\n  \"body\":{\n  \"departmentsResponse\":{\n               \"status\": {{  message.departmentsResponse.status }},\n               \"message\": \"Success\",\n               \"reqId\": \"\"\n         }\n    }\n}\n",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "455e64b8-651a-4533-b630-12ec5bbba7d4"
      }
    ],
    "Department method not allowed #skPV1b#": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Method not allowed",
        "params": {
          "logLevel": "ERROR",
          "message": "Method not allowed"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "9b3e2495-bb40-458d-a2b5-876d2c3a0c5b"
      },
      {
        "name": "json-generator-connector",
        "type": "connector",
        "stepName": "SET error message",
        "params": {
          "json": "{\n  \"departmentsResponse\":\n  {\n    \"message\": \"Method not allowed\"\n  }\n}",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "04b7b35a-5380-487d-bddd-b54e490f20d5"
      },
      {
        "operation": "PUT",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "PUT departmentsResponse",
        "fields": [
          "departmentsResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "21de6518-ad09-458d-876d-b640bec5fcf5"
      },
      {
        "type": "connector",
        "name": "throw-error-connector",
        "stepName": "Throw Error",
        "params": {
          "customErrorEnabled": true,
          "customError": "{{ message.$ }}",
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "7d86f93f-adb9-40c7-8078-fe48099068a6"
      }
    ],
    "c862fdf5-69fa-43c1-948e-2dddb926ee73-onExceptionTrack": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Departments exception",
        "params": {
          "logLevel": "ERROR",
          "message": "Departments exception: {{ message.$ }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "e2384de5-6cd7-4c69-a072-8281332a73d0"
      },
      {
        "operation": "GET",
        "scoped": false,
        "sessionType": "LOCAL",
        "stepName": "GET route + departmentsResponse",
        "fields": [
          "route",
          "departmentsResponse"
        ],
        "type": "session-management",
        "onExceptionTrack": null,
        "onProcessTrack": null,
        "id": "6d0fa2e1-289c-4c43-8dba-94e5b0403ba4"
      },
      {
        "type": "connector",
        "name": "json-transformer-connector",
        "stepName": "FORMAT response method",
        "params": {
          "actions": "[{\"type\":\"edit\",\"props\":[{\"root\":true,\"keyValueStringEdit\":\"{\\\"route\\\":\\\"{{ REPLACE(item.route, \\\\\\\"Request\\\\\\\", \\\\\\\"Response\\\\\\\") }}\\\"}\"}]}]",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "bdf278b8-61f0-4937-a580-6fd16be40860"
      },
      {
        "type": "transformer",
        "stepName": "FORMAT response",
        "transformSpec": [
          {
            "operation": "modify-overwrite-beta",
            "spec": {
              "route": "=concat('web:',@(1,route))"
            }
          },
          {
            "operation": "shift",
            "spec": {
              "departmentsResponse": "body.@(1,route)"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "2f5aa638-87d7-4460-a3bd-00e45eaddab9"
      },
      {
        "type": "connector",
        "name": "throw-error-connector",
        "stepName": "Throw Error",
        "params": {
          "customErrorEnabled": true,
          "customError": "{{ message.$ }}",
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "99593c5c-851b-4922-b6b9-97ecac11ad3f"
      }
    ],
    "not found": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Route not found",
        "params": {
          "logLevel": "ERROR",
          "message": "Route not found: {{ message.path }}"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "65167c36-5947-4575-8238-5da8ab5f89dd"
      },
      {
        "type": "session-management",
        "stepName": "GET route",
        "operation": "GET",
        "sessionType": "LOCAL",
        "scoped": false,
        "fields": [
          "route"
        ],
        "id": "19162783-4315-4fde-b8dd-a12f4ea1638b"
      },
      {
        "type": "connector",
        "name": "json-transformer-connector",
        "stepName": "FORMAT response method",
        "params": {
          "actions": "[{\"type\":\"edit\",\"props\":[{\"root\":true,\"keyValueStringEdit\":\"{\\\"route\\\":\\\"{{ REPLACE(item.route, \\\\\\\"Request\\\\\\\", \\\\\\\"Response\\\\\\\") }}\\\"}\"}]}]",
          "failOnError": false
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "09ef6f13-e9dd-4d37-8201-b5d70e3c3af3"
      },
      {
        "type": "transformer",
        "stepName": "FORMAT response",
        "transformSpec": [
          {
            "operation": "default",
            "spec": {
              "genericResponse": {
                "code": 404,
                "message": "Route not found"
              }
            }
          },
          {
            "operation": "modify-overwrite-beta",
            "spec": {
              "route": "=concat('web:',@(1,route))"
            }
          },
          {
            "operation": "shift",
            "spec": {
              "genericResponse": "body.@(1,route)"
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "9844df85-ee6f-4244-a574-74b6bded0da4"
      },
      {
        "type": "connector",
        "name": "throw-error-connector",
        "stepName": "Throw Error",
        "params": {
          "customErrorEnabled": true,
          "customError": "{{ message.$ }}",
          "failOnError": true
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "a9503aa8-50e9-430d-b791-3fa0b0c5ce86"
      }
    ],
    "d445b041-ec83-4571-8d89-d18d29bb3819-onExceptionTrack": [
      {
        "type": "connector",
        "name": "log-connector",
        "stepName": "Exception",
        "params": {
          "logLevel": "ERROR",
          "message": "Exception"
        },
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "a8eefad0-2275-437d-924a-c6592034e2c3"
      },
      {
        "type": "transformer",
        "stepName": "SET error response",
        "transformSpec": [
          {
            "operation": "shift",
            "spec": {
              "body": {
                "*": {
                  "code": "&2.&1.&",
                  "status": "&2.&1.code",
                  "errorMessage": "&2.&1.message",
                  "error": "&2.&1.message",
                  "message": "&2.&1.message",
                  "body": {
                    "error": {
                      "errors": "&4.&3.errors"
                    }
                  }
                }
              }
            }
          },
          {
            "operation": "shift",
            "spec": {
              "body": {
                "*": {
                  "code": "&2.&1.&",
                  "message": "&2.&1.&[]",
                  "errors": {
                    "*": {
                      "*": "body.&3.message"
                    }
                  }
                }
              }
            }
          },
          {
            "operation": "modify-overwrite-beta",
            "spec": {
              "body": {
                "*": {
                  "message": "=join(' / ', @(1,message))"
                }
              }
            }
          }
        ],
        "onProcessTrack": null,
        "onExceptionTrack": null,
        "id": "0ce99fce-4f94-43bd-87c2-4c3cbb7a9aad"
      }
    ]
  }
}
